(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1009:function(m,u,i){"use strict";i.d(u,"a",function(){return f});var v=i(877);function f(o,B){const x=[o,B].map(v.a).filter(T=>T.length);return x.length?x.length===1||x[0]===x[1]?x[0]:x.join(" - "):""}},1011:function(m,u,i){m.exports={}},1068:function(m,u,i){m.exports={root:"root_Nt6ab",disciplinePh:"disciplinePh_oUiIe",imagePh:"imagePh_T2J6A"}},1069:function(m,u,i){m.exports={root:"root_3HcQK",teamPlayers:"teamPlayers_MYpBY",teamPlayersMobileVisible:"teamPlayersMobileVisible_UO3mV",mobileTeamTabs:"mobileTeamTabs_ODzVC",teamPlayersList:"teamPlayersList_TrfdS",playerInfo:"playerInfo_5ztLV",playerImage:"playerImage_saH45",playerHeader:"playerHeader_Ul3yT",playerCountry:"playerCountry_Qq7dn",playerName:"playerName_hySbp",playerTbd:"playerTbd_POMAV",matchInfo:"matchInfo_aJv+m",matchHeader:"matchHeader_rKIvB",matchSubtitle:"matchSubtitle_ttcFm",bracketLink:"bracketLink_UiQYD",matchStats:"matchStats_LEu31",participantCard:"participantCard_+bk36",participantCardWithOdds:"participantCardWithOdds_hy2UN",participantImage:"participantImage_lBG6w",participantCountry:"participantCountry_B5xST",participantTitle:"participantTitle_QqRL7",matchFormat:"matchFormat_0Oeci",matchScore:"matchScore_N3WUO",matchTime:"matchTime_ji1GK",live:"live_y6Kv2",coefficientItem:"coefficientItem_8Pcyr",coefficientItemMobile:"coefficientItemMobile_6s9U5",coefficientItemLast:"coefficientItemLast_jBya1",bookmakerLogo:"bookmakerLogo_zCH4b",bookmakerLogoContainer:"bookmakerLogoContainer_i5FHP",bookmakerLogoBackground:"bookmakerLogoBackground_qrh8Q",bookmakerBottomLogo:"bookmakerBottomLogo_aYVCs"}},1070:function(m,u,i){m.exports={card:"card_J19vG",activeCard:"activeCard_o+sp-",notActiveCard:"notActiveCard_JvRtA",mapTitle:"mapTitle_fgl3-",matchStats:"matchStats_Ks2iM",participantCard:"participantCard_sqWR-",participantImage:"participantImage_-kJli",loseGame:"loseGame_dnvq1",participantTitle:"participantTitle_co3ie",matchScore:"matchScore_+DNN+",score:"score_vt5LH",live:"live_u7bTa",matchDeath:"matchDeath_7ao-1",radiantTeam:"radiantTeam_9bTIh",divider:"divider_aDw-k",netWorth:"netWorth_mKdfn",matchTime:"matchTime_KqEX2"}},1071:function(m,u,i){m.exports={root:"root_ygOtC"}},1072:function(m,u,i){m.exports={root:"root_Ogsb-",banner:"banner_rzHm7",stageHeader:"stageHeader_Znix5",stageInfo:"stageInfo_b-B95",nearestStageMatch:"nearestStageMatch_KxL6G",nearestStageMatchTitle:"nearestStageMatchTitle_CZ+RH",stageTitle:"stageTitle_jk8o0",stageTitleIcon:"stageTitleIcon_UrC-c",stageSummary:"stageSummary_dMDZO",contentBlock:"contentBlock_XNLqo",participantsStats:"participantsStats_yP-tM",statsBar:"statsBar_EWPRz",participantCard:"participantCard_71aE9",participantImage:"participantImage_asMOE",participantTitle:"participantTitle_8CzB1",statsMatchCount:"statsMatchCount_BgCq-",statsPercents:"statsPercents_SMC3O",containerWithAside:"containerWithAside_s-V9c",matchStatisticsContainer:"matchStatisticsContainer_ME+fs",matchStatsChart:"matchStatsChart_zjY7V",matchStatsDota:"matchStatsDota_mwQCu",streamsContainer:"streamsContainer_dQ5DL",okkoBtn:"okkoBtn_9IFHu"}},1118:function(m,u,i){"use strict";var v=function(){var n=this,c=n._self._c,d=n._self._setupProxy;return c("div",{staticClass:"root"},[n.scrollBtnsVisible?c("div",{staticClass:"scroll-btn scroll-btn--left",class:[n.btnsStyle==="round"?"scroll-btn--round":"scroll-btn--square"],on:{click:n.scrollLeft}},[c("svg-icon",{attrs:{name:"chevron",width:n.btnsSize,height:n.btnsSize}})],1):n._e(),n._v(" "),n.scrollBtnsVisible?c("div",{staticClass:"scroll-btn scroll-btn--right",class:[n.btnsStyle==="round"?"scroll-btn--round":"scroll-btn--square"],on:{click:n.scrollRight}},[c("svg-icon",{attrs:{name:"chevron",width:n.btnsSize,height:n.btnsSize}})],1):n._e(),n._v(" "),c("ul",{ref:"list",staticClass:"scroll",class:n.smoothScroll&&"scroll--smooth",on:{mousedown:n.markScrolling,mousemove:n.scrollByDrag,"!mouseup":function(h){return n.onScrollEnd.apply(null,arguments)},mouseleave:n.onScrollEnd,touchstart:n.markScrolling,touchmove:n.scrollByDrag,touchend:n.onScrollEnd}},n._l(n.items,function(h,b){return c("li",{key:b,staticClass:"scroll-item",on:{click:function(j){return j.stopPropagation(),n.onItemSelect(h)},"!touchstart":function(j){return n.onItemSelect(h)},touchend:function(j){return j.stopPropagation(),n.onItemSelect(h)}}},[n._t("default",null,{item:h,index:b})],2)}),0)])},f=[],o=i(0),B=Object.defineProperty,x=Object.getOwnPropertyDescriptor,T=(S,n,c,d)=>{for(var h=d>1?void 0:d?x(n,c):n,b=S.length-1,j;b>=0;b--)(j=S[b])&&(h=(d?j(n,c,h):j(h))||h);return d&&h&&B(n,c,h),h};let M=class extends o.Vue{constructor(){super(...arguments),this.isMounted=!1,this.scrolledLeft=0,this.scrollWidth=0,this.initScrolling=!1,this.scrollStartX=0,this.smoothScroll=!0,this.scrollIsActive=!1}get btnsSize(){return this.btnsStyle==="round"?10:20}markScrolling(S){S.preventDefault(),this.smoothScroll=!1,this.initScrolling=!0,this.scrollStartX=S instanceof MouseEvent?S.pageX:S.touches[0].pageX,this.scrolledLeft=this.$refs.list.scrollLeft}scrollByDrag(S){if(S.preventDefault(),this.smoothScroll=!1,this.initScrolling){this.scrollIsActive=!0;const c=((S instanceof MouseEvent?S.pageX:S.touches[0].pageX)-this.scrollStartX)*3;this.$refs.list.scrollLeft=this.scrolledLeft-c}}scrollLeft(){this.smoothScroll=!0,this.$nextTick(()=>{this.scrolledLeft-=this.scrollStepWidth,this.scrolledLeft<=0&&(this.scrolledLeft=0),this.$refs.list.scrollLeft=this.scrolledLeft})}scrollRight(){this.smoothScroll=!0,this.$nextTick(()=>{this.scrolledLeft+=this.scrollStepWidth,this.scrolledLeft>=this.scrollWidth&&(this.scrolledLeft=this.scrollWidth),this.$refs.list.scrollLeft=this.scrolledLeft})}onScrollEnd(){this.initScrolling&&(this.scrollIsActive=!1,this.initScrolling=!1,this.smoothScroll=!0)}onItemSelect(S){this.scrollIsActive||this.$emit("select",S),this.scrollIsActive=!1,this.initScrolling=!1}mounted(){var S,n,c,d;this.scrollWidth=(n=(S=this.$refs)==null?void 0:S.list)==null?void 0:n.scrollWidth,this.scrolledLeft=(d=(c=this.$refs)==null?void 0:c.list)==null?void 0:d.scrollLeft}};T([Object(o.Prop)({default:!1,type:Boolean})],M.prototype,"scrollBtnsVisible",2),T([Object(o.Prop)({required:!0})],M.prototype,"scrollStepWidth",2),T([Object(o.Prop)({required:!0})],M.prototype,"items",2),T([Object(o.Prop)({default:"round"})],M.prototype,"btnsStyle",2),M=T([Object(o.Component)({})],M);var O=M,N=i(1122),R=i(3),A=Object(R.a)(O,v,f,!1,null,"7b36d6a6",null),H=u.a=A.exports},1122:function(m,u,i){"use strict";var v=i(1011),f=i.n(v)},1140:function(m,u,i){"use strict";var v=i(959),f=i.n(v);i.d(u,"default",function(){return f.a})},1141:function(m,u,i){"use strict";var v=i(960),f=i.n(v);i.d(u,"default",function(){return f.a})},1142:function(m,u,i){"use strict";var v=i(961),f=i.n(v);i.d(u,"default",function(){return f.a})},1151:function(m,u,i){"use strict";var v=function(){var y=this,$=y._self._c,W=y._self._setupProxy;return $("div",{class:y.$style.root},[y.streamTabs.length>1?$("tabs",{class:y.$style.tabs,attrs:{items:y.streamTabs},model:{value:y.selectedStreamIndex,callback:function(I){y.selectedStreamIndex=I},expression:"selectedStreamIndex"}}):y._e(),$("stream-embed",{attrs:{stream:y.items[y.selectedStreamIndex]}})],1)},f=[],o=i(0),B=i(91),x=function(){var y=this,$=y._self._c,W=y._self._setupProxy;return $("div",{class:y.$style.root},[$("client-only",[$("div",{ref:"videoRoot"}),$("div",{domProps:{innerHTML:y._s(y.iframeCode)}})])],1)},T=[],M=i(903),O=Object.defineProperty,N=Object.getOwnPropertyDescriptor,R=(C,y,$,W)=>{for(var I=W>1?void 0:W?N(y,$):y,X=C.length-1,Y;X>=0;X--)(Y=C[X])&&(I=(W?Y(y,$,I):Y(I))||I);return W&&I&&O(y,$,I),I};let A=class extends o.Vue{constructor(){super(...arguments),this.iframeCode=""}mounted(){this.$nextTick(()=>this.$nextTick(()=>this.init()))}async init(){if(this.iframeCode="",!!this.$refs.videoRoot)if(this.$refs.videoRoot.innerHTML&&(this.$refs.videoRoot.innerHTML=""),this.stream.attributes.embedCode.startsWith("<iframe")){this.iframeCode=this.stream.attributes.embedCode.replace("parent=www.example.com",`parent=${window.location.host.split(":")[0]}`);const C=this.iframeCode.match(/\bhttps?:\/\/\S+/gi);if(C!=null&&C.length){const y=C[0];this.iframeCode=this.iframeCode.replace(y,`${y.slice(0,-1)}&amp;autoplay=false"`)}}else{const C=new URL(this.stream.attributes.embedCode);C.host.endsWith("twitch.tv")&&(await Object(M.a)("https://embed.twitch.tv/embed/v1.js"),new window.Twitch.Embed(this.$refs.videoRoot,{width:"100%",height:480,channel:C.pathname.split("/")[1],layout:"video-and-chat",autoplay:!1}))}}};R([Object(o.Prop)({type:Object,required:!0})],A.prototype,"stream",2),R([Object(o.Watch)("stream")],A.prototype,"init",1),A=R([o.Component],A);var H=A,S=i(1141),n=i(3);function c(C){this.$style=S.default.locals||S.default}var d=Object(n.a)(H,x,T,!1,c,null,null),h=d.exports,b=Object.defineProperty,j=Object.getOwnPropertyDescriptor,L=(C,y,$,W)=>{for(var I=W>1?void 0:W?j(y,$):y,X=C.length-1,Y;X>=0;X--)(Y=C[X])&&(I=(W?Y(y,$,I):Y(I))||I);return W&&I&&b(y,$,I),I};let z=class extends o.Vue{constructor(){super(...arguments),this.selectedStreamIndex=0}get streamTabs(){return this.items.map(C=>({title:C.attributes.name}))}};L([Object(o.Prop)({type:Array,required:!0})],z.prototype,"items",2),z=L([Object(o.Component)({components:{Tabs:B.a,StreamEmbed:h}})],z);var _t=z,q=i(1142);function at(C){this.$style=q.default.locals||q.default}var lt=Object(n.a)(_t,v,f,!1,at,null,null),ht=u.a=lt.exports},1161:function(m,u,i){"use strict";var v=function(){var c=this,d=c._self._c,h=c._self._setupProxy;return c.links.length?d("div",{class:c.$style.root},c._l(c.links,function(b){return d("a",{key:b.href,attrs:{href:b.href}},[c._v(c._s(b.title))])}),0):c._e()},f=[],o=i(0),B=Object.defineProperty,x=Object.getOwnPropertyDescriptor,T=(n,c,d,h)=>{for(var b=h>1?void 0:h?x(c,d):c,j=n.length-1,L;j>=0;j--)(L=n[j])&&(b=(h?L(c,d,b):L(b))||b);return h&&b&&B(c,d,b),b};let M=class extends o.Vue{};T([Object(o.Prop)({type:Array,default:()=>[]})],M.prototype,"links",2),M=T([o.Component],M);var O=M,N=i(1140),R=i(3);function A(n){this.$style=N.default.locals||N.default}var H=Object(R.a)(O,v,f,!1,A,null,null),S=u.a=H.exports},1218:function(m,u,i){"use strict";var v=i(1068),f=i.n(v);i.d(u,"default",function(){return f.a})},1219:function(m,u,i){"use strict";var v=i(1069),f=i.n(v);i.d(u,"default",function(){return f.a})},1221:function(m,u,i){"use strict";var v=i(1070),f=i.n(v);i.d(u,"default",function(){return f.a})},1222:function(m,u,i){"use strict";var v=i(1071),f=i.n(v);i.d(u,"default",function(){return f.a})},1223:function(m,u,i){"use strict";var v=i(1072),f=i.n(v);i.d(u,"default",function(){return f.a})},1293:function(m,u,i){"use strict";i.r(u);var v=function(){var t=this,e=t._self._c,_=t._self._setupProxy;return t.discipline&&t.match?e("div",{class:t.$style.root},[t.match.included.stage?e("rounded-block",{class:t.$style.stageHeader},[e("section",{class:t.$style.stageInfo},[e("div",{class:t.$style.stageTitle},[e("a",{attrs:{href:t.stageLink,target:"_blank"}},[e("svg-icon",{class:t.$style.stageTitleIcon,attrs:{icon:t.discipline.attributes.iconActive}}),t._v(" "+t._s(t.match.included.stage.attributes.title))],1)]),e("div",{class:t.$style.stageSummary},[t.stageDateRange?e("text-object",{attrs:{label:"\u0414\u0430\u0442\u0430 \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u044F",text:t.stageDateRange}}):t._e(),t.match.included.stage.attributes.prizePool?e("text-object",{attrs:{label:"\u0421\u0443\u043C\u043C\u0430 \u043F\u0440\u0438\u0437\u043E\u0432\u044B\u0445",text:t.prize(t.match.included.stage.attributes.prizePool)}}):t._e(),t.match.included.stage.attributes.location?e("text-object",{attrs:{label:"\u041C\u0435\u0441\u0442\u043E \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u044F",text:t.match.included.stage.attributes.location}}):t._e()],1),e("section-nav",{class:t.$style.stageNav,attrs:{links:t.stageNavLinks}})],1),t.nearestStageMatch?e("div",{class:t.$style.nearestStageMatch},[e("h2",{staticClass:"widget-title",class:t.$style.nearestStageMatchTitle},[t._v("\u0411\u043B\u0438\u0436\u0430\u0439\u0448\u0438\u0439 \u043C\u0430\u0442\u0447")]),e("matches-list",{attrs:{"style-type":"narrow",items:[t.nearestStageMatch]}})],1):t._e()]):t._e(),t.participantType==="team"?[e("match-details",{attrs:{item:t.match}}),e("adfox-banner",{class:t.$style.banner,attrs:{desktop:"","banner-id":"165182824578117731",params:{pp:"h",ps:"dgpp",p2:"hqmc"}}}),t.match.included.games&&t.match.included.games.length?e("rounded-block",[e("div",{class:t.$style.matchStatisticsContainer},[e("h2",{staticClass:"widget-title"},[t._v("\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u043C\u0430\u0442\u0447\u0430")]),e("match-statistics",{attrs:{match:t.match,"dota-match-stats":t.dotaMatch},on:{selectMap:t.changeDotaStat}})],1),t.isDotaMatch&&t.currentDotaMatchStat?e("match-stats-dota",{key:t.currentDotaMatchStat.attributes.duration,class:t.$style.matchStatsDota,attrs:{"match-stat":t.dotaMatch,"current-stat-id":t.currentDotaMatchId,team1:t.match.included.participant1.included.team,team2:t.match.included.participant2.included.team,discipline:t.discipline}}):t._e(),t.isDotaMatch&&t.currentDotaMatchStat?e("match-stats-dota-chart",{class:t.$style.matchStatsChart,attrs:{"match-stat":t.dotaMatch,"current-stat-id":t.currentDotaMatchId,team1:t.match.included.participant1.included.team,team2:t.match.included.participant2.included.team}}):t._e()],1):t._e()]:t._e(),e("layout-with-aside",{scopedSlots:t._u([{key:"aside",fn:function(){return[t.match.included.stage&&t.match.included.stage.included.tag?e("widget-news",{attrs:{tag:t.match.included.stage.included.tag}}):t._e()]},proxy:!0},{key:"after-aside",fn:function(){return[e("rounded-block",[e("comments-list",{attrs:{"object-type":t.matchCommentObjectType,"object-id":t.match.id}})],1)]},proxy:!0}],null,!1,2578779088)},[t.participantType==="player"?e("match-details",{attrs:{item:t.match}}):t._e(),e("adfox-banner",{class:t.$style.banner,attrs:{mobile:"","banner-id":"165183014772131111",params:{pp:"h",ps:"dgpp",p2:"hqmp"}}}),!t.match.attributes.isFinished&&t.streams.length?e("rounded-block",[e("div",{class:t.$style.streamsContainer},[e("h2",{staticClass:"widget-title"},[t._v("\u0422\u0440\u0430\u043D\u0441\u043B\u044F\u0446\u0438\u0438 \u043C\u0430\u0442\u0447\u0430")]),t.discipline&&t.discipline.attributes.slug==="dota-2"?e("okko-button",{class:t.$style.okkoBtn}):t._e()],1),e("stream-list",{attrs:{items:t.streams}})],1):t._e(),t.matchStats.matchCount?e("rounded-block",[e("div",{class:t.$style.containerWithAside},[e("h2",{staticClass:"widget-title"},[t._v("\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u0432\u0441\u0442\u0440\u0435\u0447")]),e("div",{class:t.$style.participantsStats},[t._l([t.match.included.participant1,t.match.included.participant2],function(a){return e("a",{key:a.id,class:t.$style.participantCard,attrs:{target:"_blank",href:t.getParticipantLink(a)}},[e("participant-image",{class:t.$style.participantImage,attrs:{participant:a,discipline:t.discipline}}),e("div",{class:t.$style.participantTitle},[t._v(t._s(t.getParticipantTitle(a)))])],1)}),e("stats-bar",{class:t.$style.statsBar,attrs:{draw:t.matchStats.draws,win:t.matchStats.firstWins,loss:t.matchStats.matchCount-t.matchStats.draws-t.matchStats.firstWins},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{class:t.$style.statsMatchCount},[t._v("\u0412\u0441\u0435\u0433\u043E \u043C\u0430\u0442\u0447\u0435\u0439: "+t._s(t.matchStats.matchCount))])]},proxy:!0},{key:"footer",fn:function({percents:a}){return[e("div",{class:t.$style.statsPercents},[e("div",[t._v(t._s(t.matchStats.firstWins)+" ("+t._s(a.win)+")")]),e("div",[t._v(t._s(t.matchStats.draws)+" ("+t._s(a.draw)+")")]),e("div",[t._v(t._s(t.matchStats.matchCount-t.matchStats.draws-t.matchStats.firstWins)+" ("+t._s(a.loss)+")")])])]}}],null,!1,189113032)})],2),e("matches-list",{attrs:{items:t.pairMatchesSortedByParticipant,loading:t.pairMatchesLoading,"has-more":t.pairMatchesHasMore},on:{"load-more":function(a){return t.loadPairMatches()}}})],1)]):t._e(),e("rounded-block",[e("div",{class:t.$style.containerWithAside},[e("h2",{staticClass:"widget-title"},[t._v("\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 \u043C\u0430\u0442\u0447\u0438")]),e("tabs",{attrs:{bold:"",items:t.participantTabs,value:t.matchListParticipantIndex},on:{input:function(a){return t.loadParticipantMatches(a,!0)}}}),e("matches-list",{attrs:{items:t.participantMatchesSortedByParticipant,loading:t.participantMatchesLoading,"has-more":t.participantMatchesHasMore},on:{"load-more":function(a){return t.loadParticipantMatches(t.matchListParticipantIndex)}}})],1)])],1)],2):t._e()},f=[],o=i(0),B=i(21),x=i(1009),T=i(862),M=i(869),O=function(){var t=this,e=t._self._c,_=t._self._setupProxy;return e("div",{class:t.$style.root},[t._l(t.teamPlayers,function(a,r){return e("rounded-block",{key:r,class:[t.$style.teamPlayers,r===t.mobileTeamPlayersTabIndex&&t.$style.teamPlayersMobileVisible]},[e("h2",{staticClass:"widget-title"},[t._v(t._s(a.title))]),e("tabs",{class:t.$style.mobileTeamTabs,attrs:{bold:"",items:t.teamPlayers,value:r},on:{input:function(l){t.mobileTeamPlayersTabIndex=l}}}),e("ul",{class:t.$style.teamPlayersList},t._l(a.players,function(l){return e("li",{key:l.id},[l.included.player?e("a",{class:t.$style.playerInfo,attrs:{target:"_blank",href:`/players/${t.discipline.attributes.slug}/${l.included.player.attributes.slug}`}},[e("participant-image",{class:t.$style.playerImage,attrs:{participant:l,discipline:t.discipline}}),e("div",{class:t.$style.playerHeader},[l.included.player.included.country?e("svg-icon",{class:t.$style.playerCountry,attrs:{name:`flags/${l.included.player.included.country.attributes.code}`}}):t._e(),e("span",[t._v(t._s(l.included.player.attributes.nickname))])],1),e("div",{class:t.$style.playerName},[t._v(t._s(l.included.player.attributes.firstName)+" "+t._s(l.included.player.attributes.lastName))])],1):e("div",{class:t.$style.playerTbd},[t._v("TBD")])])}),0)],1)}),e("rounded-block",{class:t.$style.matchInfo},[e("admin-edit-button",{attrs:{to:t.adminLink}}),e("header",{class:t.$style.matchHeader},[e("h1",[t._v(t._s(t.discipline.attributes.title)),e("br"),t._v(t._s(t.getParticipantTitle(t.item.included.participant1))+" vs "+t._s(t.getParticipantTitle(t.item.included.participant2))),e("br"),e("small",[t._v(t._s(t.matchTitle))])]),e("nuxt-link",{class:t.$style.matchSubtitle,attrs:{to:t.bracketLink}},[t._v(t._s(t.matchSubtitle))])],1),e("div",{class:t.$style.matchStats},[t._l([t.item.included.participant1,t.item.included.participant2],function(a){return e("a",{key:a.id,class:[t.$style.participantCard,{[t.$style.participantCardWithOdds]:t.odds.length&&!t.item.attributes.isFinished}],attrs:{target:"_blank",href:t.getParticipantLink(a)}},[e("participant-image",{class:t.$style.participantImage,attrs:{participant:a,discipline:t.discipline}},[a.included.player&&a.included.player.included.country?e("svg-icon",{class:t.$style.participantCountry,attrs:{name:`flags/${a.included.player.included.country.attributes.code}`}}):t._e()],1),e("div",{class:t.$style.participantTitle},[t._v(t._s(t.getParticipantTitle(a)))])],1)}),e("div",{class:t.$style.matchFormat},[t._v(t._s(t.readableMatchFormat))]),t.score?e("div",{class:t.$style.matchScore},[e("span",[t._v(t._s(t.score[0]))]),t._v(":"),e("span",[t._v(t._s(t.score[1]))])]):t.isLive?e("div",{class:t.$style.matchScore},[e("span",[t._v("0")]),t._v(":"),e("span",[t._v("0")])]):e("div",{class:t.$style.matchScore},[e("span",[t._v("VS")])]),t.isLive?e("div",{class:[t.$style.matchTime,t.$style.live]},[t._v("LIVE")]):e("div",{class:t.$style.matchTime},[t._v(t._s(t.$dayjs.formatDateTime(t.item.attributes.date,t.item.attributes.time,"\xA0")))]),t.odds.length&&!t.item.attributes.isFinished?[e("a",{class:t.$style.coefficientItem,attrs:{href:t.odds[0].urlInMatch,target:"_blank"}},[t._v(t._s(t.odds[0].odds[0]))]),e("a",{class:t.$style.coefficientItemMobile,attrs:{href:t.odds[0].urlInMatch,target:"_blank"}},[t._v(t._s(t.odds[0].odds[0]))]),e("div",{class:t.$style.bookmakerLogoContainer},[t.odds[0].odds[2]?e("a",{class:t.$style.coefficientItem,attrs:{href:t.odds[0].urlInMatch,target:"_blank"}},[t._v(t._s(t.odds[0].odds[2]))]):t._e(),t.odds[0].odds[2]?e("a",{class:t.$style.coefficientItemMobile,attrs:{href:t.odds[0].urlInMatch,target:"_blank"}},[t._v(t._s(t.odds[0].odds[2]))]):e("div",{class:t.$style.bookmakerLogoBackground},[e("img",{class:t.$style.bookmakerLogo,attrs:{src:i(938),width:"500",height:"140",alt:"BetBoom"}})])]),e("a",{class:[t.$style.coefficientItem,t.$style.coefficientItemLast],attrs:{href:t.odds[0].urlInMatch,target:"_blank"}},[t._v(t._s(t.odds[0].odds[1]))]),e("a",{class:[t.$style.coefficientItemMobile,t.$style.coefficientItemLast],attrs:{href:t.odds[0].urlInMatch,target:"_blank"}},[t._v(t._s(t.odds[0].odds[1]))])]:t._e(),e("div"),t.odds.length&&!t.item.attributes.isFinished&&t.odds[0].odds[2]?e("div",{class:[t.$style.bookmakerLogoBackground,t.$style.bookmakerBottomLogo]},[e("img",{class:t.$style.bookmakerLogo,attrs:{src:i(938),width:"500",height:"140",alt:"BetBoom"}})]):t._e(),e("div")],2)],1)],2)},N=[],R=i(5),A=function(){var t=this,e=t._self._c,_=t._self._setupProxy;return t.participant?e("div",{class:t.$style.root},[t.participant.included.team&&t.participant.included.team.attributes.logo?e("content-image",{attrs:{type:"match-details-participant",loading:"lazy",width:"200",height:"200",src:t.participant.included.team.attributes.logo}}):t.participant.included.player&&t.participant.included.player.attributes.photo?e("content-image",{attrs:{type:"match-details-participant",loading:"lazy",width:"200",height:"200",src:t.participant.included.player.attributes.photo}}):t.participant.included.team||t.discipline&&t.discipline.attributes.iconTeam?e("svg-icon",{class:t.$style.disciplinePh,attrs:{icon:t.discipline.attributes.iconTeam}}):e("div",{class:t.$style.imagePh},[e("svg-icon",{attrs:{name:"avatar-placeholder"}})],1),t._t("default")],2):t._e()},H=[],S=i(90),n=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=(s,t,e,_)=>{for(var a=_>1?void 0:_?c(t,e):t,r=s.length-1,l;r>=0;r--)(l=s[r])&&(a=(_?l(t,e,a):l(a))||a);return _&&a&&n(t,e,a),a};let h=class extends o.Vue{};d([Object(o.Prop)({type:Object,required:!0})],h.prototype,"participant",2),d([Object(o.Prop)({type:Object,required:!0})],h.prototype,"discipline",2),h=d([Object(o.Component)({components:{ContentImage:S.a}})],h);var b=h,j=i(1218),L=i(3);function z(s){this.$style=j.default.locals||j.default}var _t=Object(L.a)(b,A,H,!1,z,null,null),q=_t.exports,at=i(91),lt=i(872),ht=Object.defineProperty,C=Object.getOwnPropertyDescriptor,y=(s,t,e,_)=>{for(var a=_>1?void 0:_?C(t,e):t,r=s.length-1,l;r>=0;r--)(l=s[r])&&(a=(_?l(t,e,a):l(a))||a);return _&&a&&ht(t,e,a),a};let $=class extends o.Vue{constructor(){super(...arguments),this.mobileTeamPlayersTabIndex=0}get adminLink(){var s;const t=Object(o.getModule)(R.default,this.$store);return["ROLE_ADMIN","ROLE_AUTHOR"].includes(((s=t.user)==null?void 0:s.attributes.role)||"")?`/entity/item/matches/${this.item.id}`:""}get discipline(){return this.item.included.discipline}get matchTitle(){var s;return(s=this.item.included.stage)==null?void 0:s.attributes.mediumTitle}get matchSubtitle(){var s;return((s=this.item.included.bracket)==null?void 0:s.attributes.name)||""}get readableMatchFormat(){var s;return(s=this.item.attributes.format)==null?void 0:s.replace("bestOf","BEST-OF-")}get bracketLink(){var s,t,e,_;return`/tournaments/${(t=(s=this.discipline)==null?void 0:s.attributes)==null?void 0:t.slug}/${(e=this.item.included.stage)==null?void 0:e.attributes.slug}?bracket=${(_=this.item.included.bracket)==null?void 0:_.id}#stage-brackets`}get isLive(){return!this.item||this.item.attributes.isFinished||!this.item.attributes.date||!this.item.attributes.time?!1:this.$dayjs().isAfter(this.$dayjs.tz(`${this.item.attributes.date} ${this.item.attributes.time}`))}get teamPlayers(){var s,t,e;return(s=this.item.included.participant1)!=null&&s.included.team?[{title:`\u0418\u0433\u0440\u043E\u043A\u0438 ${this.getParticipantTitle(this.item.included.participant1)}`,players:(t=this.item.included.participant1)==null?void 0:t.included.teamPlayers},{title:`\u0418\u0433\u0440\u043E\u043A\u0438 ${this.getParticipantTitle(this.item.included.participant2)}`,players:(e=this.item.included.participant2)==null?void 0:e.included.teamPlayers}]:[]}get odds(){var s,t,e;return(e=(t=(s=this.item)==null?void 0:s.attributes)==null?void 0:t.odds)!=null?e:[]}get score(){var s,t;return((s=this.item.included.participant1)==null?void 0:s.attributes.matchScore)!=null&&((t=this.item.included.participant2)==null?void 0:t.attributes.matchScore)!=null?[this.item.included.participant1.attributes.matchScore,this.item.included.participant2.attributes.matchScore]:null}getParticipantTitle(s){var t,e;return!s||s.attributes.isTbd||((t=s.included.stageParticipant)==null?void 0:t.attributes.isTbd)?"TBD":s.attributes.isTba||((e=s.included.stageParticipant)==null?void 0:e.attributes.isTba)?"TBA":s.attributes.custom?s.attributes.custom:s.included.player?s.included.player.attributes.nickname:s.included.team?s.included.team.attributes.title:"TBD"}getParticipantLink(s){var t,e,_,a,r,l;return!s||s.attributes.isTbd||((t=s.included.stageParticipant)==null?void 0:t.attributes.isTbd)||s.attributes.isTba||((e=s.included.stageParticipant)==null?void 0:e.attributes.isTba)?"#":s.included.player?`/players/${(a=(_=this.discipline)==null?void 0:_.attributes)==null?void 0:a.slug}/${s.included.player.attributes.slug}`:s.included.team?`/teams/${(l=(r=this.discipline)==null?void 0:r.attributes)==null?void 0:l.slug}/${s.included.team.attributes.slug}`:"#"}};y([Object(o.Prop)({type:Object,required:!0})],$.prototype,"item",2),$=y([Object(o.Component)({components:{RoundedBlock:T.a,ParticipantImage:q,Tabs:at.a,AdminEditButton:lt.a}})],$);var W=$,I=i(1219);function X(s){this.$style=I.default.locals||I.default}var Y=Object(L.a)(W,O,N,!1,X,null,null),bt=Y.exports,gt=i(1161),yt=i(937),jt=i(927),Ot=i(881),St=i(880),Mt=i(1151),Pt=i(921),Dt=i(910),Tt=i(92),rt=i(10),$t=i(863),xt=function(){var t=this,e=t._self._c,_=t._self._setupProxy;return e("div",{ref:"root",class:t.$style.root},[t.games.length?e("scroll",{ref:"cards",attrs:{"scroll-step-width":"320","btns-style":"square","scroll-btns-visible":t.isCardsScroll,items:t.games},on:{select:t.selectCard},scopedSlots:t._u([{key:"default",fn:function({item:a}){return[e("div",{class:t.$style.matchGame},[e("match-statistics-card",{attrs:{game:a,match:t.match,"dota-stats":t.dotaMatchStats,isActive:a.attributes.externalApiId===t.activeCardId}})],1)]}}],null,!1,3579689418)}):t._e()],1)},Lt=[],Ct=function(){var t=this,e=t._self._c,_=t._self._setupProxy;return e("div",{class:[t.$style.card,{[t.$style.activeCard]:t.isActive,[t.$style.notActiveCard]:!t.isActive}]},[e("span",{class:t.$style.mapTitle},[t._v(t._s(t.mapTitle))]),t.matchTime?e("div",{class:t.$style.matchTime},[t._v(t._s(t.matchTime))]):t._e(),e("div",{class:t.$style.matchStats},[t._l([t.match.included.participant1,t.match.included.participant2],function(a,r){return e("div",{key:a.id,class:[t.$style.participantCard,r===0?!t.isLive&&t.scoreDota1===0&&t.$style.loseGame:!t.isLive&&t.scoreDota2===0&&t.$style.loseGame]},[e("participant-image",{class:t.$style.participantImage,attrs:{participant:a,discipline:t.discipline}}),e("div",{class:t.$style.participantTitle},[t._v(t._s(t.getParticipantTitle(a)))]),(r===0?t.goldAdv1:t.goldAdv2)?e("div",{class:t.$style.netWorth},[e("svg-icon",{attrs:{name:"gold",width:"14",height:"14"}}),e("span",[t._v(t._s(r===0?t.goldAdv1:t.goldAdv2))])],1):t._e()],1)}),e("div",{class:t.$style.matchScore},[t.isLive?e("span",{class:t.$style.live},[t._v("LIVE")]):t.scoreDota1!==null&&t.scoreDota2!==null?e("div",{class:t.$style.score},[e("span",[t._v(t._s(t.scoreDota1))]),t._v(":"),e("span",[t._v(t._s(t.scoreDota2))])]):t.scoreForNotDotaMatch1!==null&&t.scoreForNotDotaMatch2!==null?e("div",{class:t.$style.score},[e("span",[t._v(t._s(t.scoreForNotDotaMatch1))]),t._v(":"),e("span",[t._v(t._s(t.scoreForNotDotaMatch2))])]):t._e(),t.kills1!==null&&t.kills2!==null?e("div",{class:t.$style.matchDeath},[e("span",{class:t.getIsRadiantTeam(t.match.included.participant1.included.team.id)&&t.$style.radiantTeam},[t._v(t._s(t.kills1))]),e("span",{class:t.$style.divider},[t._v(":")]),e("span",{class:t.getIsRadiantTeam(t.match.included.participant2.included.team.id)&&t.$style.radiantTeam},[t._v(t._s(t.kills2))])]):t._e()])],2)])},It=[],Et=Object.defineProperty,kt=Object.getOwnPropertyDescriptor,Q=(s,t,e,_)=>{for(var a=_>1?void 0:_?kt(t,e):t,r=s.length-1,l;r>=0;r--)(l=s[r])&&(a=(_?l(t,e,a):l(a))||a);return _&&a&&Et(t,e,a),a};let G=class extends o.Vue{constructor(){super(...arguments),this.matchTime="",this.gameDurationInSeconds=null,this.stats=null,this.scoreDota1=0,this.scoreDota2=0,this.kills1=0,this.kills2=0,this.goldAdv1=0,this.goldAdv2=0}get discipline(){return this.match.included.discipline}get mapTitle(){var s,t;return(t=(s=this.game.included.map)==null?void 0:s.attributes)==null?void 0:t.name}get scoreForNotDotaMatch1(){var s,t,e;return(e=(t=(s=this.game)==null?void 0:s.attributes)==null?void 0:t.participant1Score)!=null?e:null}get scoreForNotDotaMatch2(){var s,t,e;return(e=(t=(s=this.game)==null?void 0:s.attributes)==null?void 0:t.participant2Score)!=null?e:null}setScoreDota1(){var s,t,e,_,a,r,l,p,g,D,P;const k=(e=(t=(s=this.match.included.participant1)==null?void 0:s.included)==null?void 0:t.team)==null?void 0:e.id;if(typeof((a=(_=this.stats)==null?void 0:_.attributes)==null?void 0:a.winner)!="number"){this.scoreDota1=null;return}if(((l=(r=this.radiantTeam)==null?void 0:r.attributes)==null?void 0:l.internalId)===k){this.scoreDota1=((g=(p=this.stats)==null?void 0:p.attributes)==null?void 0:g.winner)===1?1:0;return}this.scoreDota1=((P=(D=this.stats)==null?void 0:D.attributes)==null?void 0:P.winner)===1?0:1}setScoreDota2(){var s,t,e,_,a,r,l,p,g,D,P;const k=(e=(t=(s=this.match.included.participant2)==null?void 0:s.included)==null?void 0:t.team)==null?void 0:e.id;if(typeof((a=(_=this.stats)==null?void 0:_.attributes)==null?void 0:a.winner)!="number"){this.scoreDota2=null;return}if(((l=(r=this.radiantTeam)==null?void 0:r.attributes)==null?void 0:l.internalId)===k){this.scoreDota2=((g=(p=this.stats)==null?void 0:p.attributes)==null?void 0:g.winner)===1?1:0;return}this.scoreDota2=((P=(D=this.stats)==null?void 0:D.attributes)==null?void 0:P.winner)===1?0:1}get isLive(){var s,t;return((t=(s=this.stats)==null?void 0:s.attributes)==null?void 0:t.winner)===0}get radiantTeam(){var s,t;return(t=(s=this.stats)==null?void 0:s.included)==null?void 0:t.radiantTeam}get direTeam(){var s,t;return(t=(s=this.stats)==null?void 0:s.included)==null?void 0:t.direTeam}setGameTimer(){if(!this.isLive){this.clearTimer();return}this.timeInterval=window.setInterval(()=>{this.setTimeDuration(),this.gameDurationInSeconds&&this.gameDurationInSeconds++},1e3)}setTimeDuration(){if(!this.gameDurationInSeconds)return;const s=Math.floor(this.gameDurationInSeconds/3600),t=Math.floor(this.gameDurationInSeconds%3600/60),e=Math.floor(this.gameDurationInSeconds%3600%60),_=s>0?`${s}\u0447 `:"",a=t>0?`${t}\u043C `:"",r=e>0?`${e}\u0441 `:"";this.matchTime=_+a+r}getParticipantTitle(s){var t,e;return!s||s.attributes.isTbd||((t=s.included.stageParticipant)==null?void 0:t.attributes.isTbd)?"TBD":s.attributes.isTba||((e=s.included.stageParticipant)==null?void 0:e.attributes.isTba)?"TBA":s.attributes.custom?s.attributes.custom:s.included.player?s.included.player.attributes.nickname:s.included.team?s.included.team.attributes.shortTitle:"TBD"}getIsRadiantTeam(s){var t,e;return((e=(t=this.radiantTeam)==null?void 0:t.attributes)==null?void 0:e.internalId)===s}setGoldAdv(s){var t,e,_,a,r,l,p,g,D,P,k,F,V,K,U,E,Z,tt;let J="";s===1?J=((_=(e=(t=this.match.included.participant1)==null?void 0:t.included)==null?void 0:e.team)==null?void 0:_.id)||"":J=((l=(r=(a=this.match.included.participant2)==null?void 0:a.included)==null?void 0:r.team)==null?void 0:l.id)||"";let w=0;if(!this.stats){this.goldAdv1=w,this.goldAdv2=w;return}const ct=(P=(D=(g=(p=this.stats)==null?void 0:p.attributes)==null?void 0:g.teamStats)==null?void 0:D.find(mt=>mt.side===1).goldAdv)!=null?P:0,ut=(K=(V=(F=(k=this.stats)==null?void 0:k.attributes)==null?void 0:F.teamStats)==null?void 0:V.find(mt=>mt.side===2).goldAdv)!=null?K:0;((E=(U=this.radiantTeam)==null?void 0:U.attributes)==null?void 0:E.internalId)===J&&(w=ct>ut?ct:0),((tt=(Z=this.direTeam)==null?void 0:Z.attributes)==null?void 0:tt.internalId)===J&&(w=ut>ct?ut:0),s===1?this.goldAdv1=w:this.goldAdv2=w}getDeathScore1(){var s,t,e,_,a,r,l,p,g,D,P,k,F,V,K,U,E;const Z=(a=(_=(e=(t=(s=this.match)==null?void 0:s.included)==null?void 0:t.participant1)==null?void 0:e.included)==null?void 0:_.team)==null?void 0:a.id;if(!this.stats||!Z){this.kills1=null;return}const tt=(g=(p=(l=(r=this.stats)==null?void 0:r.attributes)==null?void 0:l.teamStats)==null?void 0:p.find(w=>w.side===1).kills)!=null?g:0,J=(F=(k=(P=(D=this.stats)==null?void 0:D.attributes)==null?void 0:P.teamStats)==null?void 0:k.find(w=>w.side===2).kills)!=null?F:0;this.kills1=((E=(U=(K=(V=this.stats)==null?void 0:V.included)==null?void 0:K.radiantTeam)==null?void 0:U.attributes)==null?void 0:E.internalId)===Z?tt:J!=null?J:null}getDeathScore2(){var s,t,e,_,a,r,l,p,g,D,P,k,F,V,K,U,E;const Z=(a=(_=(e=(t=(s=this.match)==null?void 0:s.included)==null?void 0:t.participant2)==null?void 0:e.included)==null?void 0:_.team)==null?void 0:a.id;if(!this.stats||!Z){this.kills2=null;return}const tt=(g=(p=(l=(r=this.stats)==null?void 0:r.attributes)==null?void 0:l.teamStats)==null?void 0:p.find(w=>w.side===1).kills)!=null?g:0,J=(F=(k=(P=(D=this.stats)==null?void 0:D.attributes)==null?void 0:P.teamStats)==null?void 0:k.find(w=>w.side===2).kills)!=null?F:0;this.kills2=((E=(U=(K=(V=this.stats)==null?void 0:V.included)==null?void 0:K.radiantTeam)==null?void 0:U.attributes)==null?void 0:E.internalId)===Z?tt:J!=null?J:null}mounted(){var s,t,e,_,a;this.stats=(t=(s=this.dotaStats)==null?void 0:s.find(r=>{var l,p;return((l=r==null?void 0:r.attributes)==null?void 0:l.externalId)===((p=this.game.attributes)==null?void 0:p.externalApiId)}))!=null?t:null,this.gameDurationInSeconds=(a=(_=(e=this.stats)==null?void 0:e.attributes)==null?void 0:_.duration)!=null?a:null,this.isLive&&this.setGameTimer(),this.setTimeDuration(),this.setMatchData()}setMatchData(){this.setScoreDota1(),this.setScoreDota2(),this.getDeathScore1(),this.getDeathScore2(),this.setGoldAdv(1),this.setGoldAdv(2)}beforeDestroy(){this.clearTimer()}clearTimer(){window.clearInterval(this.timeInterval)}resetTimer(){this.clearTimer(),this.setGameTimer()}setCurrentStats(){var s,t,e,_,a;this.stats=null,this.stats=(t=(s=this.dotaStats)==null?void 0:s.find(r=>{var l,p;return((l=r==null?void 0:r.attributes)==null?void 0:l.externalId)===((p=this.game.attributes)==null?void 0:p.externalApiId)}))!=null?t:null,this.gameDurationInSeconds=(a=(_=(e=this.stats)==null?void 0:e.attributes)==null?void 0:_.duration)!=null?a:null,this.isLive||this.setTimeDuration(),this.setMatchData()}removeTimer(){this.isLive||this.clearTimer()}};Q([Object(o.Prop)({required:!0})],G.prototype,"match",2),Q([Object(o.Prop)({required:!0})],G.prototype,"game",2),Q([Object(o.Prop)({required:!0})],G.prototype,"dotaStats",2),Q([Object(o.Prop)({required:!0})],G.prototype,"isActive",2),Q([Object(o.Watch)("stats",{deep:!0,immediate:!0})],G.prototype,"resetTimer",1),Q([Object(o.Watch)("dotaStats",{deep:!0,immediate:!0})],G.prototype,"setCurrentStats",1),Q([Object(o.Watch)("isLive")],G.prototype,"removeTimer",1),G=Q([Object(o.Component)({components:{ParticipantImage:q}})],G);var Bt=G,pt=i(1221);function At(s){this.$style=pt.default.locals||pt.default}var wt=Object(L.a)(Bt,Ct,It,!1,At,null,null),Rt=wt.exports,Wt=i(1118),Ft=Object.defineProperty,Nt=Object.getOwnPropertyDescriptor,ot=(s,t,e,_)=>{for(var a=_>1?void 0:_?Nt(t,e):t,r=s.length-1,l;r>=0;r--)(l=s[r])&&(a=(_?l(t,e,a):l(a))||a);return _&&a&&Ft(t,e,a),a};let et=class extends o.Vue{constructor(){super(...arguments),this.isMounted=!1,this.activeCardId=""}get games(){var s,t;return(t=(s=this.match)==null?void 0:s.included.games)!=null?t:[]}get isCardsScroll(){var s,t,e,_;return this.isMounted?((t=(s=this.$refs)==null?void 0:s.cards)==null?void 0:t.scrollWidth)>((_=(e=this.$refs)==null?void 0:e.root)==null?void 0:_.offsetWidth):!1}selectCard(s){var t;const e=(t=s==null?void 0:s.attributes)==null?void 0:t.externalApiId;e&&e!==this.activeCardId&&(this.activeCardId=e,this.$emit("selectMap",e))}mounted(){var s;if(this.isMounted=!0,this.games.length){const t=this.games.length-1;this.selectCard((s=this.games[t])!=null?s:null)}}};ot([Object(o.Prop)({required:!0})],et.prototype,"match",2),ot([Object(o.Prop)({required:!0})],et.prototype,"dotaMatchStats",2),et=ot([Object(o.Component)({components:{MatchStatisticsCard:Rt,Scroll:Wt.a}})],et);var Kt=et,vt=i(1222);function Ut(s){this.$style=vt.default.locals||vt.default}var Ht=Object(L.a)(Kt,xt,Lt,!1,Ut,null,null),zt=Ht.exports,Gt=i(878);const it={};it.Dota2MatchParticipant={match:{isList:!1,rec:null,type:"dota2_match"},player:{isList:!1,rec:null,type:"dota2_player"},hero:{isList:!1,rec:null,type:"dota2_hero"},neutralItem:{isList:!1,rec:null,type:"dota2_item"},items:{isList:!0,rec:"Dota2MatchParticipantItem",type:"dota2_match_participant_item"},abilities:{isList:!0,rec:null,type:"dota2_ability"}},it.Dota2MatchParticipantItem={item:{isList:!1,rec:null,type:"dota2_item"},dota2matchParticipant:{isList:!1,rec:null,type:"dota2_match_participant"}},it.Dota2Match={radiantTeam:{isList:!1,rec:null,type:"dota2_team"},direTeam:{isList:!1,rec:null,type:"dota2_team"},participants:{isList:!0,rec:"Dota2MatchParticipant",type:"dota2_match_participant"},bannedHeroes:{isList:!0,rec:null,type:"dota2_hero"}};function nt(s,t){if(Array.isArray(s.data)){s.data.forEach(l=>nt({data:l,included:s.included},t));return}if(!s.data||s.data.included)return;const e={};s.data.included=e;const _=it[t];if(!_)return;const a=s.data.relationships||{},r=l=>{var p;return l&&(((p=s.included)==null?void 0:p.find(g=>g.type===l.type&&g.id===l.id))||s.parents&&s.parents.find(g=>g.type===l.type&&g.id===l.id))||null};Object.entries(_).forEach(([l,{rec:p,isList:g}])=>{var D;const P=(D=a[l])==null?void 0:D.data;g?e[l]=Array.isArray(P)?P.map(r):[]:e[l]=r(P),p&&nt({data:e[l],included:s.included,parents:s.parents?[s.data,...s.parents]:[s.data]},p)})}var Vt=i(973),Jt=Object.defineProperty,Xt=Object.getOwnPropertyDescriptor,dt=(s,t,e,_)=>{for(var a=_>1?void 0:_?Xt(t,e):t,r=s.length-1,l;r>=0;r--)(l=s[r])&&(a=(_?l(t,e,a):l(a))||a);return _&&a&&Jt(t,e,a),a};let st=class extends o.Vue{constructor(){super(...arguments),this.discipline=null,this.match=null,this.nearestStageMatch=null,this.matchStats={matchCount:0,draws:0,firstWins:0},this.dotaMatch=[],this.currentDotaMatchId="",this.participantMatches=null,this.participantMatchesHasMore=!1,this.participantMatchesLoading=!1,this.pairMatches=null,this.pairMatchesHasMore=!1,this.pairMatchesLoading=!1,this.matchListParticipantIndex=0,this.matchCommentObjectType=Dt.a.Match}head(){var s,t,e,_;const a=Object(o.getModule)(rt.default,this.$store).appOrigin;if(!this.match||!this.discipline)return[];const r=this.getParticipantTitle(this.match.included.participant1),l=this.getParticipantTitle(this.match.included.participant2),p={"@context":"https://schema.org","@graph":[{"@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:"1",name:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",item:{"@type":"Thing","@id":"https://www.cybersport.ru"}},{"@type":"ListItem",position:"2",name:"\u041C\u0430\u0442\u0447\u0438",item:{"@type":"Thing","@id":`${a}/matches`}},{"@type":"ListItem",position:"3",name:`\u041C\u0430\u0442\u0447\u0438 \u043F\u043E ${(s=this.discipline)==null?void 0:s.attributes.title}`,item:{"@type":"Thing","@id":`${a}/matches/${(t=this.discipline)==null?void 0:t.attributes.slug}`}},{"@type":"ListItem",position:"4",name:`${r} vs ${l}`,item:{"@type":"Thing","@id":a+this.$route.fullPath}}]}]};return{script:[{hid:"ld",type:"application/ld+json",innerHTML:JSON.stringify(p)}],__dangerouslyDisableSanitizersByTagID:{ld:["innerHTML"]},link:[{rel:"amphtml",href:`${a}/amp/matches/${this.$route.params.discipline}/${this.$route.params.id}`}],...Object($t.a)({title:`\u041C\u0430\u0442\u0447 ${r} vs ${l} ${this.$dayjs.formatDateTime(this.match.attributes.date)} \u043D\u0430 ${(e=this.match.included.stage)==null?void 0:e.attributes.title} \u043F\u043E ${this.discipline.attributes.title}`,description:`${r} \u043F\u0440\u043E\u0442\u0438\u0432 ${l} \u043D\u0430 \u0442\u0443\u0440\u043D\u0438\u0440\u0435 ${(_=this.match.included.stage)==null?void 0:_.attributes.title} \u043F\u043E ${this.discipline.attributes.title} - \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B, \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430, \u0442\u0440\u0430\u043D\u0441\u043B\u044F\u0446\u0438\u044F \u0438 \u0438\u0441\u0442\u043E\u0440\u0438\u044F \u0432\u0441\u0442\u0440\u0435\u0447 ${r} \u0438 ${l}`,url:this.appOrigin+this.$route.fullPath})}}async asyncData({error:s,params:t,store:e,app:{$api:_,$dayjs:a}}){var r,l;try{const p=t.discipline&&Object(o.getModule)(B.default,e).disciplines.find(k=>k.attributes.slug===t.discipline)||null;if(!p)throw new Error("Discipline not found");const{data:{data:g}}=await _.matches.getMatchById(t.id);if(!g||((r=g.included.discipline)==null?void 0:r.id)!==p.id)throw new Error("Match not found");const{data:{data:D}}=await _.matches.getMatches({"filter[dateTimeAfter]":a().tz().format("YYYY-MM-DD HH:mm:ss"),"filter[stage]":(l=g.included.stage)==null?void 0:l.id,"page[limit]":2,sort:"date"}),P=D.find(({id:k})=>k!==g.id)||null;return{match:g,discipline:p,nearestStageMatch:P}}catch(p){s({message:"\u041C\u0430\u0442\u0447 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D",statusCode:404})}return{}}async fetch(){await Promise.all([this.loadParticipantsStats(),this.loadParticipantMatches(this.matchListParticipantIndex,!0)]),this.matchStats.matchCount&&await this.loadPairMatches(),this.isDotaMatch&&await this.loadDotaStatistics()}onMatchChange(){this.$fetch()}get appOrigin(){return Object(o.getModule)(rt.default,this.$store).appOrigin}get stageDateRange(){var s,t,e,_;return Object(x.a)((t=(s=this.match)==null?void 0:s.included.stage)==null?void 0:t.attributes.since,(_=(e=this.match)==null?void 0:e.included.stage)==null?void 0:_.attributes.till)}get stageLink(){var s,t,e,_;return(s=this.match)!=null&&s.included.stage?`/tournaments/${(e=(t=this.discipline)==null?void 0:t.attributes)==null?void 0:e.slug}/${this.match.included.stage.attributes.slug}?bracket=${(_=this.match.included.bracket)==null?void 0:_.id}`:[]}get stageNavLinks(){var s;return(s=this.match)!=null&&s.included.stage?[{title:"\u0421\u0435\u0442\u043A\u0430",href:`${this.stageLink}#stage-brackets`},{title:"\u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435",href:`${this.stageLink}#stage-schedule`},{title:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438",href:`${this.stageLink}#stage-news`},{title:"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B",href:`${this.stageLink}#stage-results`}]:[]}get pairMatchesSortedByParticipant(){return this.pairMatches?this.sortMatchesByParticipant(this.pairMatches):null}get participantMatchesSortedByParticipant(){return!this.match||!this.participantMatches?null:this.sortMatchesByParticipant(this.participantMatches)}get participantTabs(){var s,t;return this.match?[{title:this.getParticipantTitle((s=this.match)==null?void 0:s.included.participant1)},{title:this.getParticipantTitle((t=this.match)==null?void 0:t.included.participant2)}]:[]}get participantType(){var s,t;return(t=(s=this.match)==null?void 0:s.included.participant1)!=null&&t.included.player?"player":"team"}get streams(){var s,t;return this.match?(s=this.match.included.streams)!=null&&s.length?this.match.included.streams:((t=this.match.included.stage)==null?void 0:t.included.streams)||[]:[]}get isDotaMatch(){var s,t;return((t=(s=this.match)==null?void 0:s.included.discipline)==null?void 0:t.attributes.slug)==="dota-2"}get isLive(){var s,t;return((t=(s=this.currentDotaMatchStat)==null?void 0:s.attributes)==null?void 0:t.winner)===0}get currentDotaMatchStat(){var s,t;return this.isDotaMatch&&(t=(s=this.dotaMatch)==null?void 0:s.find(e=>{var _;return((_=e==null?void 0:e.attributes)==null?void 0:_.externalId)===this.currentDotaMatchId}))!=null?t:null}prize(s){return s?`$ ${Object(Gt.a)(s)}`:""}sortMatchesByParticipant(s){return s.map(t=>{var e,_,a,r,l,p,g,D,P,k;if(((_=(e=t.included.participant1)==null?void 0:e.included[this.participantType])==null?void 0:_.id)===((l=(r=(a=this.match)==null?void 0:a.included[this.matchListParticipantIndex===0?"participant1":"participant2"])==null?void 0:r.included[this.participantType])==null?void 0:l.id))return t;if(t.included.participant1&&t.included.participant2){const F={...t.included.participant1},V={...t.included.participant2};let K=null,U=null;const E={...t};return E.included.participant1=V,E.included.participant2=F,((g=(p=E==null?void 0:E.attributes)==null?void 0:p.odds)==null?void 0:g.length)&&((k=(P=(D=E==null?void 0:E.attributes)==null?void 0:D.odds[0])==null?void 0:P.odds)==null?void 0:k.length)&&(K=E.attributes.odds[0].odds[0],U=E.attributes.odds[0].odds[1],E.attributes.odds[0].odds[0]=U,E.attributes.odds[0].odds[1]=K),E}return!1})}getParticipantTitle(s){var t,e;return!s||s.attributes.isTbd||((t=s.included.stageParticipant)==null?void 0:t.attributes.isTbd)?"TBD":s.attributes.isTba||((e=s.included.stageParticipant)==null?void 0:e.attributes.isTba)?"TBA":s.included.player?s.included.player.attributes.nickname:s.included.team?s.included.team.attributes.title:"TBD"}getParticipantLink(s){var t,e,_,a,r,l;return!s||s.attributes.isTbd||((t=s.included.stageParticipant)==null?void 0:t.attributes.isTbd)||s.attributes.isTba||((e=s.included.stageParticipant)==null?void 0:e.attributes.isTba)?"#":s.included.player?`/players/${(a=(_=this.discipline)==null?void 0:_.attributes)==null?void 0:a.slug}/${s.included.player.attributes.slug}`:s.included.team?`/teams/${(l=(r=this.discipline)==null?void 0:r.attributes)==null?void 0:l.slug}/${s.included.team.attributes.slug}`:"#"}async loadParticipantsStats(){var s,t,e,_;if(!this.match)return;const a=(t=(s=this.match.included.participant1)==null?void 0:s.included[this.participantType])==null?void 0:t.id,r=(_=(e=this.match.included.participant2)==null?void 0:e.included[this.participantType])==null?void 0:_.id;if(!a||!r)return;const{data:{data:l}}=await this.$api.matches.getParticipantsStats({"filter[type]":this.participantType,"filter[id1]":a,"filter[id2]":r});Object.assign(this.matchStats,l)}async loadParticipantMatches(s,t=!1){var e,_,a;if(!this.match)return;this.matchListParticipantIndex=s;const r=(_=(e=this.match.included[s===0?"participant1":"participant2"])==null?void 0:e.included[this.participantType])==null?void 0:_.id;if(!r){this.participantMatches=[];return}t&&(this.participantMatches=null),this.participantMatchesLoading=!0;const l=10,{data:{data:p}}=await this.$api.matches.getMatches({[`filter[${this.participantType}Id]`]:r,"filter[isFinished]":!0,"page[offset]":!t&&((a=this.participantMatches)==null?void 0:a.length)||0,"page[limit]":l,sort:"-date"});!t&&this.participantMatches?this.participantMatches.push(...p):this.participantMatches=p,this.participantMatchesHasMore=p.length>=l,this.participantMatchesLoading=!1}async loadPairMatches(){var s,t,e,_,a;if(!this.match||this.matchStats.matchCount===0)return;const r=(t=(s=this.match.included.participant1)==null?void 0:s.included[this.participantType])==null?void 0:t.id,l=(_=(e=this.match.included.participant2)==null?void 0:e.included[this.participantType])==null?void 0:_.id;if(!r||!l)return;const p=10;this.pairMatchesLoading=!0;const{data:{data:g}}=await this.$api.matches.getMatches({[`filter[${this.participantType}sPair]`]:[r,l],"page[offset]":((a=this.pairMatches)==null?void 0:a.length)||0,"filter[isFinished]":!0,"page[limit]":p,sort:"-date"});this.pairMatches?this.pairMatches.push(...g):this.pairMatches=g,this.pairMatchesHasMore=g.length>=p,this.pairMatchesLoading=!1}async loadDotaStatistics(){if(!(!this.match||!this.isDotaMatch))try{const s=this.match.included.games.map(e=>{var _,a;return(a=(_=e.attributes)==null?void 0:_.externalApiId)!=null?a:""}),{data:{data:t}}=await this.$api.v1.getDota2MatchStats({"filter[discipline]":"dota2","filter[externalApiIds]":s});this.dotaMatch=t}catch(s){}}changeDotaStat(s){this.currentDotaMatchId=s}subscribeToDotaStatistic(){if(this.dotaMatchSocket&&this.dotaMatchSocket.close(),this.isLive){const s=window.location.protocol.startsWith("https")?"wss":"ws";this.dotaMatchSocket=new WebSocket(`${Object(o.getModule)(rt.default,this.$store).dotaStatsWsURL||`${s}://${window.location.host}`}/api/v1/match-stats/subscribe?filter[externalApiId]=${this.currentDotaMatchId}`),this.dotaMatchSocket.addEventListener("message",t=>{var e,_;if(!!t.data)try{const a=JSON.parse(t.data);nt(a,"Dota2Match");const r=(_=(e=this.dotaMatch)==null?void 0:e.filter(l=>l.id!==a.data.id))!=null?_:[];this.dotaMatch=[...r,a.data]}catch(a){}})}}beforeDestroy(){var s;(s=this.dotaMatchSocket)==null||s.close()}};dt([Object(o.Watch)("match")],st.prototype,"onMatchChange",1),dt([Object(o.Watch)("currentDotaMatchId",{immediate:!0})],st.prototype,"subscribeToDotaStatistic",1),st=dt([Object(o.Component)({components:{MatchStatsDotaChart:()=>Promise.all([i.e(67),i.e(61)]).then(i.bind(null,1335)),MatchStatsDota:()=>i.e(47).then(i.bind(null,1298)),RoundedBlock:T.a,LayoutWithAside:M.a,MatchDetails:bt,ParticipantImage:q,SectionNav:gt.a,TextObject:yt.a,WidgetNews:jt.a,StatsBar:Ot.a,Tabs:at.a,MatchesList:St.a,StreamList:Mt.a,CommentsList:Pt.a,AdfoxBanner:Tt.a,MatchStatistics:zt,ContentImage:S.a,OkkoButton:Vt.a}})],st);var Yt=st,ft=i(1223);function Qt(s){this.$style=ft.default.locals||ft.default}var Zt=Object(L.a)(Yt,v,f,!1,Qt,null,null),qt=u.default=Zt.exports},866:function(m,u,i){m.exports={stat:"stat_M3Ks-",progress:"progress_nbex+",line:"line_fHZQE",green:"green_JD5CD",red:"red_QbGiB"}},879:function(m,u,i){"use strict";i.d(u,"a",function(){return v});function v(f,o){return o<=0?"0%":`${Math.round(f/o*100)||0}%`}},881:function(m,u,i){"use strict";var v=function(){var d=this,h=d._self._c,b=d._self._setupProxy;return h("div",{class:d.$style.stat},[d._t("header",null,{allGames:d.allGames}),h("div",{class:d.$style.progress},[h("div",{class:[d.$style.line,d.$style.green],style:`width:${d.win*100/d.allGames}%`}),h("div",{class:d.$style.line,style:`width:${d.draw*100/d.allGames}%`}),h("div",{class:[d.$style.line,d.$style.red],style:`width:${d.loss*100/d.allGames}%`})]),d._t("footer",null,{percents:d.percents})],2)},f=[],o=i(0),B=i(879),x=Object.defineProperty,T=Object.getOwnPropertyDescriptor,M=(c,d,h,b)=>{for(var j=b>1?void 0:b?T(d,h):d,L=c.length-1,z;L>=0;L--)(z=c[L])&&(j=(b?z(d,h,j):z(j))||j);return b&&j&&x(d,h,j),j};let O=class extends o.Vue{get allGames(){return this.win+this.loss+this.draw}get percents(){return{win:Object(B.a)(this.win,this.allGames),loss:Object(B.a)(this.loss,this.allGames),draw:Object(B.a)(this.draw,this.allGames)}}};M([Object(o.Prop)({type:Number,default:0})],O.prototype,"win",2),M([Object(o.Prop)({type:Number,default:0})],O.prototype,"loss",2),M([Object(o.Prop)({type:Number,default:0})],O.prototype,"draw",2),O=M([o.Component],O);var N=O,R=i(908),A=i(3);function H(c){this.$style=R.default.locals||R.default}var S=Object(A.a)(N,v,f,!1,H,null,null),n=u.a=S.exports},903:function(m,u,i){"use strict";i.d(u,"a",function(){return f});const v={};function f(o,B,x=!1){return v[o]||(v[o]=new Promise((T,M)=>{const O=document.createElement("script");O.async=!0,O.src=o,B&&(O.id=B),O.onload=()=>{O.dataset.loaded="1",x&&delete v[o],T(O)},O.onerror=()=>{O.dataset.loaded="0",M()},document.head.appendChild(O)})),v[o]}},908:function(m,u,i){"use strict";var v=i(866),f=i.n(v);i.d(u,"default",function(){return f.a})},935:function(m,u,i){m.exports={}},959:function(m,u,i){m.exports={root:"root_fXYJq"}},960:function(m,u,i){m.exports={root:"root_RKCxP"}},961:function(m,u,i){m.exports={root:"root_Ts68a",tabs:"tabs_03upR"}},973:function(m,u,i){"use strict";var v=function(){var c=this,d=c._self._c,h=c._self._setupProxy;return c.okkoLink?d("a",{staticClass:"okko-btn",attrs:{href:c.okkoLink,target:"_blank"}},[d("img",{attrs:{src:i(993),alt:"okko"}})]):c._e()},f=[],o=i(0),B=i(15),x=Object.defineProperty,T=Object.getOwnPropertyDescriptor,M=(n,c,d,h)=>{for(var b=h>1?void 0:h?T(c,d):c,j=n.length-1,L;j>=0;j--)(L=n[j])&&(b=(h?L(c,d,b):L(b))||b);return h&&b&&x(c,d,b),b};let O=class extends o.Vue{get okkoLink(){var n,c;return((c=(n=Object(o.getModule)(B.default,this.$store).settings.find(d=>d&&d.id==="okko.link"))==null?void 0:n.attributes)==null?void 0:c.value)||""}};O=M([o.Component],O);var N=O,R=i(994),A=i(3),H=Object(A.a)(N,v,f,!1,null,"603576e6",null),S=u.a=H.exports},993:function(m,u,i){m.exports=i.p+"img/okko.b42336b.png"},994:function(m,u,i){"use strict";var v=i(935),f=i.n(v)}}]);
