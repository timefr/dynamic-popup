(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1002:function(p,f,s){"use strict";var h=function(){var v=this,j=v._self._c,D=v._self._setupProxy;return v.discipline&&(v.team||v.player)?j("div",{class:v.$style.root},[v.team?j("nuxt-link",{class:v.$style.header,attrs:{to:`/teams/${v.discipline.attributes.slug}/${v.team.attributes.slug}`}},[v.team.attributes.logo?j("div",{class:v.$style.logo},[j("content-image",{attrs:{type:"team-list-logo",src:v.team.attributes.logo,alt:v.team.attributes.shortTitle}})],1):v._e(),j("div",{class:v.$style.title},[v._v(v._s(v.team.attributes.title))])]):v._e(),v.players.length?j("div",{class:v.$style.list},[v._l(v.players,function(S,w){return[typeof S=="string"?j("div",{key:w,class:v.$style.player},[j("div",{class:v.$style.namePlaceholder},[v._v(v._s(S))])]):j("nuxt-link",{key:S.id,class:v.$style.player,attrs:{to:`/players/${v.discipline.attributes.slug}/${S.attributes.slug}`}},[S.included.country?j("div",{class:v.$style.country},[j("svg-icon",{attrs:{name:v.getFlagIcon(S)}})],1):v._e(),j("div",{class:[v.$style.name,v.breakLines&&v.$style.breakLines],attrs:{title:`${S.attributes.firstName} ${S.attributes.nickname} ${S.attributes.lastName}`}},[v._v(v._s(S.attributes.firstName)+" "),j("span",{class:v.$style.nickname},[v._v(v._s(S.attributes.nickname))]),v._v(" "+v._s(S.attributes.lastName)+" "),v._t("player-after",null,null,{player:S})],2)])]})],2):v._e(),v._t("default")],2):v._e()},m=[],n=s(0),P=s(90),b=Object.defineProperty,I=Object.getOwnPropertyDescriptor,T=(g,v,j,D)=>{for(var S=D>1?void 0:D?I(v,j):v,w=g.length-1,V;w>=0;w--)(V=g[w])&&(S=(D?V(v,j,S):V(S))||S);return D&&S&&b(v,j,S),S};let x=class extends n.Vue{get players(){var g;return(g=this.teamPlayers)!=null&&g.length?this.teamPlayers.map(({included:{player:v}})=>v||"TBD"):this.player?[this.player]:[]}getFlagIcon(g){var v,j;const D=(j=(v=g.included.country)==null?void 0:v.attributes)==null?void 0:j.code;return D?`flags/${D}`:""}};T([Object(n.Prop)({type:Object,default:null})],x.prototype,"discipline",2),T([Object(n.Prop)({type:Object,default:null})],x.prototype,"team",2),T([Object(n.Prop)({type:Object,default:null})],x.prototype,"player",2),T([Object(n.Prop)({type:Array,default:()=>[]})],x.prototype,"teamPlayers",2),T([Object(n.Prop)({type:Boolean,default:!1})],x.prototype,"breakLines",2),x=T([Object(n.Component)({components:{ContentImage:P.a}})],x);var W=x,B=s(991),M=s(3);function R(g){this.$style=B.default.locals||B.default}var K=Object(M.a)(W,h,m,!1,R,null,null),C=f.a=K.exports},1009:function(p,f,s){"use strict";s.d(f,"a",function(){return m});var h=s(877);function m(n,P){const b=[n,P].map(h.a).filter(I=>I.length);return b.length?b.length===1||b[0]===b[1]?b[0]:b.join(" - "):""}},1092:function(p,f,s){p.exports={context_menu:"context_menu_m36DF",active:"active_0mfpJ"}},1093:function(p,f,s){p.exports={wrapper:"wrapper_NqSqs",rootItems:"rootItems_sXq2q",rootTabs:"rootTabs_--vNm",rootTabsShadow:"rootTabsShadow_bVmn8",rootTab:"rootTab_-8H4l",current:"current_e2uHS",hasCurrentChild:"hasCurrentChild_DFVwY",hiddenDropdown:"hiddenDropdown_uZOzU",dots:"dots_yS79r",dot:"dot_F+znz",contextMenu:"contextMenu_b7fxS",hiddenItems:"hiddenItems_7SARl",childrenTabs:"childrenTabs_3Uwjk",childTab:"childTab_xA4Zf"}},1094:function(p,f,s){p.exports={tbd:"tbd_Lqe+k",text:"text_7VxyC",qualifier:"qualifier_nViI+"}},1095:function(p,f,s){p.exports={list:"list_O5KCp",moreBtn:"moreBtn_9M9W8",participantCardUnknown:"participantCardUnknown_0McWY",qualifier:"qualifier_up1iG",hidden:"hidden_UGi-Z"}},1096:function(p,f,s){p.exports={tabs:"tabs_Uu-tm",matchGroupTable:"matchGroupTable_42Nhu",tabDefault:"tabDefault_H1wVE"}},1097:function(p,f,s){p.exports={list:"list_XUkDI",root:"root_MKcoR",listItem:"listItem_uiftk",showMoreBtn:"showMoreBtn_QjtAB",place:"place_zHkVf",participant:"participant_NYfGN",outcome:"outcome_QRfHa",quota:"quota_nBhCy",dpcScore:"dpcScore_y9GcK"}},1098:function(p,f,s){p.exports={root:"root_AuPak",banner:"banner_6kADg",container:"container_MHWmt",containerWithAside:"containerWithAside_BMnaj",stageTabs:"stageTabs_Hzmco",tournamentInfo:"tournamentInfo_KwUdM",tournamentDiscipline:"tournamentDiscipline_M63vG",stageSummary:"stageSummary_63zNy",summaryItem:"summaryItem_cGJjg",stageDescr:"stageDescr_ZU0yB",stageDescrActive:"stageDescrActive_OvHzT",stageDescrToggle:"stageDescrToggle_tBejq",stageDescrToggleActive:"stageDescrToggleActive_2iJu+",sectionNav:"sectionNav_bMuFQ",emptyBlock:"emptyBlock_Lb3bO",emptyBlockSm:"emptyBlockSm_wz0zs",stageResults:"stageResults_UZtQg",streamsContainer:"streamsContainer_+az+Z",okkoBtn:"okkoBtn_NXc3I"}},1140:function(p,f,s){"use strict";var h=s(959),m=s.n(h);s.d(f,"default",function(){return m.a})},1141:function(p,f,s){"use strict";var h=s(960),m=s.n(h);s.d(f,"default",function(){return m.a})},1142:function(p,f,s){"use strict";var h=s(961),m=s.n(h);s.d(f,"default",function(){return m.a})},1151:function(p,f,s){"use strict";var h=function(){var k=this,L=k._self._c,F=k._self._setupProxy;return L("div",{class:k.$style.root},[k.streamTabs.length>1?L("tabs",{class:k.$style.tabs,attrs:{items:k.streamTabs},model:{value:k.selectedStreamIndex,callback:function(A){k.selectedStreamIndex=A},expression:"selectedStreamIndex"}}):k._e(),L("stream-embed",{attrs:{stream:k.items[k.selectedStreamIndex]}})],1)},m=[],n=s(0),P=s(91),b=function(){var k=this,L=k._self._c,F=k._self._setupProxy;return L("div",{class:k.$style.root},[L("client-only",[L("div",{ref:"videoRoot"}),L("div",{domProps:{innerHTML:k._s(k.iframeCode)}})])],1)},I=[],T=s(903),x=Object.defineProperty,W=Object.getOwnPropertyDescriptor,B=(E,k,L,F)=>{for(var A=F>1?void 0:F?W(k,L):k,z=E.length-1,Y;z>=0;z--)(Y=E[z])&&(A=(F?Y(k,L,A):Y(A))||A);return F&&A&&x(k,L,A),A};let M=class extends n.Vue{constructor(){super(...arguments),this.iframeCode=""}mounted(){this.$nextTick(()=>this.$nextTick(()=>this.init()))}async init(){if(this.iframeCode="",!!this.$refs.videoRoot)if(this.$refs.videoRoot.innerHTML&&(this.$refs.videoRoot.innerHTML=""),this.stream.attributes.embedCode.startsWith("<iframe")){this.iframeCode=this.stream.attributes.embedCode.replace("parent=www.example.com",`parent=${window.location.host.split(":")[0]}`);const E=this.iframeCode.match(/\bhttps?:\/\/\S+/gi);if(E!=null&&E.length){const k=E[0];this.iframeCode=this.iframeCode.replace(k,`${k.slice(0,-1)}&amp;autoplay=false"`)}}else{const E=new URL(this.stream.attributes.embedCode);E.host.endsWith("twitch.tv")&&(await Object(T.a)("https://embed.twitch.tv/embed/v1.js"),new window.Twitch.Embed(this.$refs.videoRoot,{width:"100%",height:480,channel:E.pathname.split("/")[1],layout:"video-and-chat",autoplay:!1}))}}};B([Object(n.Prop)({type:Object,required:!0})],M.prototype,"stream",2),B([Object(n.Watch)("stream")],M.prototype,"init",1),M=B([n.Component],M);var R=M,K=s(1141),C=s(3);function g(E){this.$style=K.default.locals||K.default}var v=Object(C.a)(R,b,I,!1,g,null,null),j=v.exports,D=Object.defineProperty,S=Object.getOwnPropertyDescriptor,w=(E,k,L,F)=>{for(var A=F>1?void 0:F?S(k,L):k,z=E.length-1,Y;z>=0;z--)(Y=E[z])&&(A=(F?Y(k,L,A):Y(A))||A);return F&&A&&D(k,L,A),A};let V=class extends n.Vue{constructor(){super(...arguments),this.selectedStreamIndex=0}get streamTabs(){return this.items.map(E=>({title:E.attributes.name}))}};w([Object(n.Prop)({type:Array,required:!0})],V.prototype,"items",2),V=w([Object(n.Component)({components:{Tabs:P.a,StreamEmbed:j}})],V);var ne=V,Z=s(1142);function U(E){this.$style=Z.default.locals||Z.default}var ie=Object(C.a)(ne,h,m,!1,U,null,null),De=f.a=ie.exports},1161:function(p,f,s){"use strict";var h=function(){var g=this,v=g._self._c,j=g._self._setupProxy;return g.links.length?v("div",{class:g.$style.root},g._l(g.links,function(D){return v("a",{key:D.href,attrs:{href:D.href}},[g._v(g._s(D.title))])}),0):g._e()},m=[],n=s(0),P=Object.defineProperty,b=Object.getOwnPropertyDescriptor,I=(C,g,v,j)=>{for(var D=j>1?void 0:j?b(g,v):g,S=C.length-1,w;S>=0;S--)(w=C[S])&&(D=(j?w(g,v,D):w(D))||D);return j&&D&&P(g,v,D),D};let T=class extends n.Vue{};I([Object(n.Prop)({type:Array,default:()=>[]})],T.prototype,"links",2),T=I([n.Component],T);var x=T,W=s(1140),B=s(3);function M(C){this.$style=W.default.locals||W.default}var R=Object(B.a)(x,h,m,!1,M,null,null),K=f.a=R.exports},1243:function(p,f,s){"use strict";var h=s(1092),m=s.n(h);s.d(f,"default",function(){return m.a})},1244:function(p,f,s){"use strict";var h=s(1093),m=s.n(h);s.d(f,"default",function(){return m.a})},1245:function(p,f,s){var h=s(1246),m=s(140),n=s(1247),P=Math.ceil,b=Math.max;function I(T,x,W){(W?m(T,x,W):x===void 0)?x=1:x=b(n(x),0);var B=T==null?0:T.length;if(!B||x<1)return[];for(var M=0,R=0,K=Array(P(B/x));M<B;)K[R++]=h(T,M,M+=x);return K}p.exports=I},1246:function(p,f){function s(h,m,n){var P=-1,b=h.length;m<0&&(m=-m>b?0:b+m),n=n>b?b:n,n<0&&(n+=b),b=m>n?0:n-m>>>0,m>>>=0;for(var I=Array(b);++P<b;)I[P]=h[P+m];return I}p.exports=s},1247:function(p,f,s){var h=s(1248);function m(n){var P=h(n),b=P%1;return P===P?b?P-b:P:0}p.exports=m},1248:function(p,f,s){var h=s(1249),m=1/0,n=17976931348623157e292;function P(b){if(!b)return b===0?b:0;if(b=h(b),b===m||b===-m){var I=b<0?-1:1;return I*n}return b===b?b:0}p.exports=P},1249:function(p,f,s){var h=s(1250),m=s(16),n=s(1252),P=0/0,b=/^[-+]0x[0-9a-f]+$/i,I=/^0b[01]+$/i,T=/^0o[0-7]+$/i,x=parseInt;function W(B){if(typeof B=="number")return B;if(n(B))return P;if(m(B)){var M=typeof B.valueOf=="function"?B.valueOf():B;B=m(M)?M+"":M}if(typeof B!="string")return B===0?B:+B;B=h(B);var R=I.test(B);return R||T.test(B)?x(B.slice(2),R?2:8):b.test(B)?P:+B}p.exports=W},1250:function(p,f,s){var h=s(1251),m=/^\s+/;function n(P){return P&&P.slice(0,h(P)+1).replace(m,"")}p.exports=n},1251:function(p,f){var s=/\s/;function h(m){for(var n=m.length;n--&&s.test(m.charAt(n)););return n}p.exports=h},1252:function(p,f,s){var h=s(22),m=s(19),n="[object Symbol]";function P(b){return typeof b=="symbol"||m(b)&&h(b)==n}p.exports=P},1253:function(p,f,s){"use strict";var h=s(1094),m=s.n(h);s.d(f,"default",function(){return m.a})},1254:function(p,f,s){"use strict";var h=s(1095),m=s.n(h);s.d(f,"default",function(){return m.a})},1255:function(p,f,s){"use strict";var h=s(1096),m=s.n(h);s.d(f,"default",function(){return m.a})},1256:function(p,f,s){"use strict";var h=s(1097),m=s.n(h);s.d(f,"default",function(){return m.a})},1257:function(p,f,s){"use strict";var h=s(1098),m=s.n(h);s.d(f,"default",function(){return m.a})},1292:function(p,f,s){"use strict";s.r(f);var h=function(){var t=this,a=t._self._c,y=t._self._setupProxy;return a("div",{class:t.$style.root},[a("rounded-block",[a("admin-edit-button",{attrs:{to:t.adminLink}}),a("div",{class:t.$style.container},[t.tournamentSuite?a("div",{class:t.$style.tournamentInfo},[t.discipline.attributes.iconActive?a("svg-icon",{class:t.$style.tournamentDiscipline,attrs:{icon:t.discipline.attributes.iconActive}}):t._e(),t._v(" "+t._s(t.tournamentSuite.attributes.name))],1):t._e(),a("h1",[t._v(t._s(t.stage.attributes.title))]),t.tournamentStages.length>1?[t.tournamentHasSubStages?a("scroll-tabs",{class:t.$style.stageTabs,attrs:{items:t.stageTabs,"current-item":t.currentStageTab},on:{"update:currentItem":function(i){t.currentStageTab=i},"update:current-item":function(i){t.currentStageTab=i}}}):a("tabs",{attrs:{bold:"",items:t.stageTabs}})]:t._e(),a("div",{class:t.$style.stageSummary},[t.dateRange?a("div",{class:t.$style.summaryItem},[a("text-object",{attrs:{label:"\u0414\u0430\u0442\u0430 \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u044F",text:t.dateRange}})],1):t._e(),t.stage.attributes.prizePool?a("div",{class:t.$style.summaryItem},[a("text-object",{attrs:{label:"\u0421\u0443\u043C\u043C\u0430 \u043F\u0440\u0438\u0437\u043E\u0432\u044B\u0445",text:t.prize(t.stage.attributes.prizePool)}})],1):t._e(),t.stage.attributes.location?a("div",{class:t.$style.summaryItem},[a("text-object",{attrs:{label:"\u041C\u0435\u0441\u0442\u043E \u043F\u0440\u043E\u0432\u0435\u0434\u0435\u043D\u0438\u044F",text:t.stage.attributes.location}})],1):t._e()]),t.stage.attributes.description?[a("div",{class:[t.$style.stageDescr,t.stageDescrExpanded&&t.$style.stageDescrActive],domProps:{innerHTML:t._s(t.stage.attributes.description)}}),a("button",{class:[t.$style.stageDescrToggle,t.stageDescrExpanded&&t.$style.stageDescrToggleActive],attrs:{type:"button"},on:{click:function(i){i.preventDefault(),t.stageDescrExpanded=!t.stageDescrExpanded}}},[t._v("\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435 "),a("svg-icon",{attrs:{name:"chevron"}})],1)]:t._e(),a("section-nav",{class:t.$style.sectionNav,attrs:{links:t.sectionNavLinks}})],2)],1),a("adfox-banner",{class:t.$style.banner,attrs:{desktop:"","banner-id":"165182824578117731",params:{pp:"h",ps:"dgpp",p2:"hqmc"}}}),a("adfox-banner",{class:t.$style.banner,attrs:{mobile:"","banner-id":"165183014772131111",params:{pp:"h",ps:"dgpp",p2:"hqmp"}}}),t.stage.included.streams.length>0&&["soon","started","just-ended"].includes(t.status)?a("rounded-block",[a("div",{class:t.$style.container},[a("div",{class:t.$style.streamsContainer},[a("h2",{staticClass:"widget-title"},[t._v("\u0422\u0440\u0430\u043D\u0441\u043B\u044F\u0446\u0438\u0438 \u0442\u0443\u0440\u043D\u0438\u0440\u0430")]),t.discipline&&t.discipline.attributes.slug==="dota-2"?a("okko-button",{class:t.$style.okkoBtn}):t._e()],1),a("stream-list",{attrs:{items:t.stage.included.streams}})],1)]):t._e(),a("rounded-block",{attrs:{"anchor-id":"stage-brackets"}},[a("div",{class:t.$style.container},[a("h2",{staticClass:"widget-title"},[t._v("\u0422\u0443\u0440\u043D\u0438\u0440\u043D\u0430\u044F \u0441\u0435\u0442\u043A\u0430")]),t.stage.included.brackets.length===0?a("div",{class:t.$style.emptyBlock},[t._v("\u041D\u0435\u0442 \u0441\u0435\u0442\u043A\u0438")]):a("stage-brackets",{attrs:{items:t.brackets,item:t.currentBracket,discipline:t.discipline},on:{"update:item":function(i){t.currentBracket=i}}})],1)]),a("layout-with-aside",{scopedSlots:t._u([{key:"aside",fn:function(){return[t.stage.included.tag?a("widget-news",{attrs:{tag:t.stage.included.tag,title:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u0442\u0443\u0440\u043D\u0438\u0440\u0430","anchor-id":"stage-news"}}):t._e(),a("stage-results",{class:t.$style.stageResults,attrs:{id:"stage-results",items:t.stage.included.results,discipline:t.discipline}})]},proxy:!0},{key:"after-aside",fn:function(){return[a("rounded-block",{attrs:{"anchor-id":"stage-comments"}},[a("comments-list",{attrs:{"object-type":t.stageCommentObjectType,"object-id":t.stage.id}})],1)]},proxy:!0}])},[t.currentBracket&&!["battleRoyale","battleRoyaleSummary"].includes(t.currentBracket.attributes.type)?a("rounded-block",{attrs:{"anchor-id":"stage-schedule"}},[a("div",{class:t.$style.containerWithAside},[a("h2",{staticClass:"widget-title"},[t._v("\u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435")]),a("stage-schedule",{attrs:{"stage-id":t.stage.id,"group-by":t.stage.attributes.matchGrouping,periods:t.stage.included.schedulePeriods}})],1)]):t._e(),a("rounded-block",{attrs:{"anchor-id":"stage-participants"}},[a("div",{class:t.$style.containerWithAside},[a("h2",{staticClass:"widget-title"},[t._v("\u0423\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u0438")]),t.stage.included.participants.length===0?a("div",{class:t.$style.emptyBlock},[t._v("\u041D\u0435\u0442 \u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u043E\u0432")]):a("participants-list",{attrs:{items:t.stage.included.participants,discipline:t.discipline}})],1)])],1)],1)},m=[],n=s(0),P=s(1009),b=s(5),I=s(862),T=s(869),x=function(){var t=this,a=t._self._c,y=t._self._setupProxy;return a("div",{class:t.$style.wrapper},[a("div",{ref:"tabsWrapper",class:t.$style.rootItems},[a("div",{class:t.$style.rootTabs},[a("client-only",[t.lastIndexOfFirstRow>-1&&t.currentRootItemIndex>t.lastIndexOfFirstRow?a("a",{key:"currentItemAsFirst",class:[t.$style.rootTab,t.$style.current,{[t.$style.hasCurrentChild]:t.currentItemChildren.length>0}],attrs:{href:t.currentRootItem.to||"#"}},[t._v(t._s(t.currentRootItem.title))]):t._e()]),t._l(t.rootItems,function(i){return a("a",{key:i.id,class:[t.$style.rootTab,{[t.$style.current]:t.currentItem&&(t.currentItem===i||t.currentItem.parentId===i.id)||!1,[t.$style.hasCurrentChild]:t.currentItem.parentId===i.id}],attrs:{href:i.to||"#"},on:{click:function(O){return O.preventDefault(),t.onItemClick(i)}}},[t._v(t._s(i.title))])})],2),a("client-only",[a("div",{class:t.$style.rootTabsShadow},t._l(t.rootItems,function(i){return a("div",{key:i.id,ref:"tabs",refInFor:!0,class:t.$style.rootTab},[t._v(t._s(i.title))])}),0),t.rootItemsHidden.length?a("div",{class:t.$style.hiddenDropdown},[a("div",{ref:"dots",class:t.$style.dots,on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.showMenu()}}},[a("div",{class:t.$style.dot}),a("context-menu",{class:t.$style.contextMenu,attrs:{position:t.contextMenuPosition}},[a("div",{class:t.$style.hiddenItems},t._l(t.rootItemsHidden,function(i){return a("a",{key:i.to,attrs:{href:i.to||"#"},on:{click:function(O){return O.preventDefault(),O.stopPropagation(),t.onItemClick(i)}}},[t._v(t._s(i.title))])}),0)])],1)]):t._e()])],1),a("tabs",{class:t.$style.childrenTabs,attrs:{"no-border":"","item-class":t.$style.childTab,items:t.currentItemChildren,value:t.currentItemChildren.indexOf(t.currentItem)},on:{input:function(i){return t.onChildItemClick(i)}}})],1)},W=[],B=function(){var t=this,a=t._self._c,y=t._self._setupProxy;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideContextMenu,expression:"hideContextMenu"}],class:[t.$style.context_menu,{[t.$style.active]:t.isActive}]},[t._t("default")],2)},M=[],R=Object.defineProperty,K=Object.getOwnPropertyDescriptor,C=(r,t,a,y)=>{for(var i=y>1?void 0:y?K(t,a):t,O=r.length-1,$;O>=0;O--)($=r[O])&&(i=(y?$(t,a,i):$(i))||i);return y&&i&&R(t,a,i),i};let g=class extends n.Vue{constructor(){super(...arguments),this.menuWidth=null,this.menuHeight=null,this.isActive=!1}showMenu(){const r=this.$el;if(!r||!this.position){this.hideContextMenu();return}(!this.menuWidth||!this.menuHeight)&&(r.style.visibility="hidden",r.style.display="block",this.menuWidth=r.offsetWidth,this.menuHeight=r.offsetHeight,r.removeAttribute("style")),this.menuWidth+this.position.x>=window.innerWidth?r.style.left=`${this.position.x-this.menuWidth+2}px`:r.style.left=`${this.position.x-2}px`,this.menuHeight+this.position.y>=window.innerHeight?r.style.top=`${this.position.y-this.menuHeight+2}px`:r.style.top=`${this.position.y-2}px`,this.isActive=!0}hideContextMenu(){this.isActive=!1}onEscKeyRelease(r){r.key==="Escape"&&this.hideContextMenu()}mounted(){document.body.addEventListener("keyup",this.onEscKeyRelease)}beforeDestroy(){document.removeEventListener("keyup",this.onEscKeyRelease)}};C([Object(n.Prop)({type:Object,default:null})],g.prototype,"position",2),C([Object(n.Watch)("position",{deep:!0})],g.prototype,"showMenu",1),g=C([n.Component],g);var v=g,j=s(1243),D=s(3);function S(r){this.$style=j.default.locals||j.default}var w=Object(D.a)(v,B,M,!1,S,null,null),V=w.exports,ne=s(91),Z=Object.defineProperty,U=Object.getOwnPropertyDescriptor,ie=(r,t,a,y)=>{for(var i=y>1?void 0:y?U(t,a):t,O=r.length-1,$;O>=0;O--)($=r[O])&&(i=(y?$(t,a,i):$(i))||i);return y&&i&&Z(t,a,i),i};const De=1024;let E=class extends n.Vue{constructor(){super(...arguments),this.lastIndexOfFirstRow=-1,this.contextMenuPosition=null}get itemIdsWithChildren(){return this.items.map(r=>r.parentId).filter(r=>!!r)}get rootItems(){return this.items.filter(r=>!r.parentId)}get currentRootItem(){var r;return(r=this.currentItem)!=null&&r.parentId?this.rootItems.find(t=>{var a;return t.id===((a=this.currentItem)==null?void 0:a.parentId)}):this.currentItem}get currentItemChildren(){return this.currentRootItem?this.items.filter(r=>{var t;return r.parentId===((t=this.currentRootItem)==null?void 0:t.id)}):[]}get currentRootItemIndex(){return this.currentRootItem&&this.rootItems.indexOf(this.currentRootItem)||-1}get isDesktopOrHigher(){return(window==null?void 0:window.innerWidth)>=De}get rootItemsHidden(){if(this.lastIndexOfFirstRow===-1)return[];const r=this.rootItems.slice(this.lastIndexOfFirstRow);if(!this.currentRootItem)return r;const t=r.indexOf(this.currentRootItem);return t<0||r.splice(t,1),r}mounted(){this.$nextTick(()=>{this.findLastVisibleTab(),this.startWidthWatcher(),this.scrollToCurrentRootItem()})}findLastVisibleTab(){if(!this.isDesktopOrHigher){this.lastIndexOfFirstRow=-1;return}const r=this.$refs.tabs;if(!r||r.length<2)return;const t=r[0].offsetTop;for(let a=1;a<r.length;++a)if(r[a].offsetTop>t){this.lastIndexOfFirstRow=a-1;return}}startWidthWatcher(){this.intervalId=window.setInterval(()=>this.findLastVisibleTab(),500)}scrollToCurrentRootItem(){const r=this.$refs.tabs;if(this.isDesktopOrHigher||!Array.isArray(r)||r.length===0)return;const t=this.currentItem?this.rootItems.indexOf(this.currentItem):-1;t!==-1&&this.$refs.tabsWrapper.scrollTo({left:r.reduce((a,y,i)=>i<t?a+y.scrollWidth:a,0)})}showMenu(){const r=this.$refs.dots.getBoundingClientRect();this.contextMenuPosition={x:r.x,y:r.bottom}}onItemClick(r){this.contextMenuPosition=null,this.$emit("update:currentItem",r)}onChildItemClick(r){this.$emit("update:currentItem",this.currentItemChildren[r])}beforeDestroy(){window.clearInterval(this.intervalId)}};ie([Object(n.Prop)({type:Array,default:()=>[]})],E.prototype,"items",2),ie([Object(n.Prop)({type:Object,default:null})],E.prototype,"currentItem",2),E=ie([Object(n.Component)({components:{ContextMenu:V,Tabs:ne.a}})],E);var k=E,L=s(1244);function F(r){this.$style=L.default.locals||L.default}var A=Object(D.a)(k,x,W,!1,F,null,null),z=A.exports,Y=s(937),Ge=s(1151),Ue=function(){var t=this,a=t._self._c,y=t._self._setupProxy;return t.items.length?a("div",[a("div",{class:t.$style.list},[t._l(t.knownParticipants,function(i,O){return a("participant-card",{key:i.id,class:!t.allVisible&&O>=t.limit&&t.$style.hidden,attrs:{discipline:t.discipline,team:i.included.team,player:i.included.player,"team-players":i.included.teamPlayers}},[i.included.qualifierStage?a("nuxt-link",{class:t.$style.qualifier,attrs:{to:`/tournaments/${t.discipline.attributes.slug}/${i.included.qualifierStage.attributes.slug}`}},[t._v(t._s(i.included.qualifierStage.attributes.mediumTitle))]):i.attributes.qualifier?a("div",{class:t.$style.qualifier},[t._v(t._s(i.attributes.qualifier))]):t._e()],1)}),t._l(t.unknownParticipants,function(i,O){return a("div",{key:O,class:[t.$style.participantCardUnknown,!t.allVisible&&O+t.knownParticipants.length>=t.limit&&t.$style.hidden]},t._l(i,function($){return a("unknown-item",{key:$.id,attrs:{discipline:t.discipline,participant:$}})}),1)})],2),!t.allVisible&&t.knownParticipants.length+t.unknownParticipants.length>t.limit?a("cs-button",{class:t.$style.moreBtn,attrs:{"type-style":"bordered"},on:{click:function(i){t.allVisible=!0}}},[t._v("\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0432\u0441\u0435\u0445")]):t._e()],1):t._e()},Ne=[],Ke=s(1245),He=s.n(Ke),ve=s(1002),Ve=function(){var t=this,a=t._self._c,y=t._self._setupProxy;return a("div",{class:t.$style.tbd},[t.discipline.attributes.iconTeam?a("svg-icon",{attrs:{height:"75",width:"75",icon:t.discipline.attributes.iconTeam}}):t._e(),a("div",{class:t.$style.text},[t._v(t._s(t.participant.attributes.isTba?"TBA":"TBD"))]),t.qualifierText?a(t.qualifierStageLink?"NuxtLink":"div",{tag:"component",class:t.$style.qualifier,attrs:{to:t.qualifierStageLink}},[t._v(t._s(t.qualifierText))]):t._e()],1)},$e=[],ze=Object.defineProperty,Ye=Object.getOwnPropertyDescriptor,he=(r,t,a,y)=>{for(var i=y>1?void 0:y?Ye(t,a):t,O=r.length-1,$;O>=0;O--)($=r[O])&&(i=(y?$(t,a,i):$(i))||i);return y&&i&&ze(t,a,i),i};let ue=class extends n.Vue{get qualifierStageLink(){var r,t;const a=(r=this.participant.included.qualifierStage)==null?void 0:r.attributes.slug;return a?`/tournaments/${(t=this.discipline.attributes)==null?void 0:t.slug}/${a}`:""}get qualifierText(){return this.participant.attributes.qualifier?this.participant.attributes.qualifier:this.participant.included.qualifierStage?this.participant.included.qualifierStage.attributes.mediumTitle:""}};he([Object(n.Prop)({type:Object,required:!0})],ue.prototype,"discipline",2),he([Object(n.Prop)({type:Object,required:!0})],ue.prototype,"participant",2),ue=he([n.Component],ue);var Je=ue,Be=s(1253);function Xe(r){this.$style=Be.default.locals||Be.default}var ke=Object(D.a)(Je,Ve,$e,!1,Xe,null,null),Ze=ke.exports,ye=s(13),te=Object.defineProperty,X=Object.getOwnPropertyDescriptor,be=(r,t,a,y)=>{for(var i=y>1?void 0:y?X(t,a):t,O=r.length-1,$;O>=0;O--)($=r[O])&&(i=(y?$(t,a,i):$(i))||i);return y&&i&&te(t,a,i),i};const Se=6;let de=class extends n.Vue{constructor(){super(...arguments),this.limit=Se,this.allVisible=!1}get knownParticipants(){return this.items.filter(r=>r.included.player||r.included.team)}get unknownParticipants(){const r=this.items.filter(t=>!t.included.player&&!t.included.team);return He()(r,6)}};be([Object(n.Prop)({type:Array,required:!0})],de.prototype,"items",2),be([Object(n.Prop)({type:Object,required:!0})],de.prototype,"discipline",2),de=be([Object(n.Component)({components:{ParticipantCard:ve.a,UnknownItem:Ze,CsButton:ye.a}})],de);var Qe=de,Te=s(1254);function qe(r){this.$style=Te.default.locals||Te.default}var et=Object(D.a)(Qe,Ue,Ne,!1,qe,null,null),tt=et.exports,_t=s(927),Ce=s(998),ce=function(){var t=this,a=t._self._c,y=t._self._setupProxy;return a("div",{class:t.$style.root},[t.groupOptions.length?a("tabs",{class:t.$style.tabs,attrs:{bold:"",value:t.currentGroupOptionIndex,items:t.groupOptions},on:{input:function(i){return t.changeTab(i)}},scopedSlots:t._u([{key:"tab",fn:function({item:i,index:O}){return[a("span",{class:t.defaultOptionIndex===O&&t.$style.tabDefault},[t._v(t._s(i.title))])]}}],null,!1,1343347456)}):t._e(),a("matches-list",{attrs:{details:"bracket",items:t.matches,loading:t.loading,"group-by-date":t.groupedByDate,"has-more":t.hasMore},on:{"load-more":function(i){return t.loadMatches()}}})],1)},st=[],Ie=s(880),ot=Object.defineProperty,rt=Object.getOwnPropertyDescriptor,_e=(r,t,a,y)=>{for(var i=y>1?void 0:y?rt(t,a):t,O=r.length-1,$;O>=0;O--)($=r[O])&&(i=(y?$(t,a,i):$(i))||i);return y&&i&&ot(t,a,i),i};const Ee=25;let Q=class extends n.Vue{constructor(){super(...arguments),this.matches=null,this.matchDates=[],this.loading=!1,this.groupedByDate=!1,this.hasMore=!1,this.currentGroupOptionIndex=1,this.defaultOptionIndex=-1}get groupOptions(){return this.groupBy==="pastCurrentFuture"?[{title:"\u041F\u0440\u043E\u0448\u0435\u0434\u0448\u0438\u0435"},{title:"\u0422\u0435\u043A\u0443\u0449\u0438\u0435"},{title:"\u0411\u0443\u0434\u0443\u0449\u0438\u0435"}]:this.groupBy==="days"?[{title:"\u0412\u0441\u0435 \u0434\u0430\u0442\u044B",groupByDate:!0},...this.matchDates.map(r=>({title:r.substring(5).split("-").reverse().join(".")}))]:this.groupBy==="periods"?[{title:"\u0412\u0441\u0435 \u0434\u0430\u0442\u044B",groupByDate:!0},...this.periods.map(r=>({title:r.attributes.name}))]:[]}get apiArgs(){const r={"filter[stage]":this.stageId,"page[limit]":Ee};if(this.groupBy==="pastCurrentFuture"){const t=this.$dayjs().tz().format("YYYY-MM-DD HH:mm:ss");Object.assign(r,{"filter[isFinished]":this.currentGroupOptionIndex===0,"filter[dateTimeBefore]":this.currentGroupOptionIndex===1?t:void 0,"filter[dateTimeAfter]":this.currentGroupOptionIndex===2?t:void 0,sort:this.currentGroupOptionIndex===2?"date":"-date"})}else if(this.groupBy==="days")r["filter[date]"]=this.matchDates[this.currentGroupOptionIndex-1],r.sort="date";else if(this.groupBy==="periods"){const t=this.periods[this.currentGroupOptionIndex-1];t&&(r["filter[dateTimeAfter]"]=`${t.attributes.since} 00:00:00`,r["filter[dateTimeBefore]"]=`${t.attributes.till} 23:59:59`),r.sort="date"}return r}async fetch(){if(this.matchDates=[],this.currentGroupOptionIndex=1,this.defaultOptionIndex=-1,this.groupBy==="days"){this.matchDates=(await this.$api.matches.getMatchDates({"filter[stage]":this.stageId})).data.meta.dates;const r=this.$dayjs().tz().format("YYYY-MM-DD"),t=this.matchDates.findIndex(a=>r<=a);this.currentGroupOptionIndex=t>-1?t+1:0,this.defaultOptionIndex=this.currentGroupOptionIndex}else if(this.groupBy==="periods"){const r=this.$dayjs().tz().format("YYYY-MM-DD"),t=this.periods.findIndex(({attributes:{since:a,till:y}})=>r>=a&&r<=y);this.currentGroupOptionIndex=t>-1?t:0,this.defaultOptionIndex=this.currentGroupOptionIndex}this.matches=null,await this.loadMatches(),await this.changeTabIfNoMatches()}onStageChange(){this.$fetch()}async loadMatches(){var r;this.loading=!0;const{data:t}=(await this.$api.matches.getMatches({...this.apiArgs,"page[offset]":((r=this.matches)==null?void 0:r.length)||0})).data;this.groupedByDate=!!this.groupOptions[this.currentGroupOptionIndex].groupByDate,this.matches=this.matches?[...this.matches,...t]:t,this.hasMore=t.length>=Ee,this.loading=!1}async changeTabIfNoMatches(){var r;!((r=this.matches)!=null&&r.length)&&this.groupBy==="pastCurrentFuture"&&this.currentGroupOptionIndex===1&&(this.currentGroupOptionIndex=2,await this.loadMatches())}changeTab(r){this.currentGroupOptionIndex=r,this.matches=null,this.loadMatches()}};_e([Object(n.Prop)({type:String,required:!0})],Q.prototype,"stageId",2),_e([Object(n.Prop)({type:String,default:"pastCurrentFuture"})],Q.prototype,"groupBy",2),_e([Object(n.Prop)({type:Array,default:()=>[]})],Q.prototype,"periods",2),_e([Object(n.Watch)("stageId")],Q.prototype,"onStageChange",1),Q=_e([Object(n.Component)({components:{Tabs:ne.a,MatchesList:Ie.a,CsButton:ye.a}})],Q);var pe=Q,q=s(1255);function lt(r){this.$style=q.default.locals||q.default}var Me=Object(D.a)(pe,ce,st,!1,lt,null,null),at=Me.exports,nt=function(){var t=this,a=t._self._c,y=t._self._setupProxy;return t.items.length?a("rounded-block",{class:t.$style.root},[a("h2",{staticClass:"widget-title"},[t._v("\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B")]),a("ol",{class:t.$style.list},t._l(t.visibleItems,function(i){return a("li",{key:i.id,class:t.$style.listItem},[a("span",{class:t.$style.place},[t._v(t._s(i.attributes.place))]),a("participant-display",{class:t.$style.participant,attrs:{link:"",item:i.included.participant,discipline:t.discipline}}),a("div",{class:t.$style.outcome},[i.included.quotaStage?a("nuxt-link",{class:t.$style.quota,attrs:{to:`/tournaments/${t.discipline.attributes.slug}/${i.included.quotaStage.attributes.slug}`}},[t._v(t._s(i.included.quotaStage.attributes.shortTitle))]):t._e(),t._v(" "),i.attributes.prize?a("span",{class:t.$style.prize},[t._v("$ "+t._s(t.formatNumber(i.attributes.prize)))]):t._e(),t._v(" "),i.attributes.dpcScore?a("span",{class:t.$style.dpcScore},[t._v("DPC "+t._s(t.formatNumber(i.attributes.dpcScore)))]):t._e()],1)],1)}),0),t.expandable&&!t.expanded?a("div",{class:t.$style.showMoreBtn},[a("cs-button",{attrs:{"type-style":"bordered"},on:{click:function(i){i.preventDefault(),t.expanded=!0}}},[t._v("\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0432\u0441\u0435")])],1):t._e()]):t._e()},ge=[],Re=s(878),it=s(923),ut=Object.defineProperty,dt=Object.getOwnPropertyDescriptor,fe=(r,t,a,y)=>{for(var i=y>1?void 0:y?dt(t,a):t,O=r.length-1,$;O>=0;O--)($=r[O])&&(i=(y?$(t,a,i):$(i))||i);return y&&i&&ut(t,a,i),i};let se=class extends n.Vue{constructor(){super(...arguments),this.expanded=!1}get visibleItems(){return this.expandable&&!this.expanded?this.items.slice(0,this.limit):this.items}get expandable(){return this.items.length>this.limit}};fe([Object(n.Prop)({type:Array,required:!0})],se.prototype,"items",2),fe([Object(n.Prop)({type:Number,default:10})],se.prototype,"limit",2),fe([Object(n.Prop)({type:Object,required:!0})],se.prototype,"discipline",2),se=fe([Object(n.Component)({components:{RoundedBlock:I.a,ParticipantDisplay:it.a,CsButton:ye.a},methods:{formatNumber:Re.a}})],se);var je=se,oe=s(1256);function ct(r){this.$style=oe.default.locals||oe.default}var we=Object(D.a)(je,nt,ge,!1,ct,null,null),pt=we.exports,ft=s(1161),mt=s(921),vt=s(910),ht=s(872),yt=s(92),Le=s(863),Oe=s(10),xe=s(973),bt=Object.defineProperty,Ae=Object.getOwnPropertyDescriptor,gt=(r,t,a,y)=>{for(var i=y>1?void 0:y?Ae(t,a):t,O=r.length-1,$;O>=0;O--)($=r[O])&&(i=(y?$(t,a,i):$(i))||i);return y&&i&&bt(t,a,i),i};const We=30*6e4;let me=class extends n.Vue{constructor(){super(...arguments),this.clickedStageId="",this.stageDescrExpanded=!1,this.stageCommentObjectType=vt.a.TournamentStage}head(){var r,t,a,y,i,O,$,re;const G=Object(n.getModule)(Oe.default,this.$store).appOrigin,{meta:ee,title:J}=Object(Le.a)({title:this.stage.attributes.metaTitle?this.stage.attributes.metaTitle:`\u0422\u0443\u0440\u043D\u0438\u0440 ${this.stage.attributes.title} \u043F\u043E ${(r=this.stage.included.discipline)==null?void 0:r.attributes.title} \u2013 \u0440\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435, \u0442\u0443\u0440\u043D\u0438\u0440\u043D\u0430\u044F \u0441\u0435\u0442\u043A\u0430, \u0441\u043E\u0441\u0442\u0430\u0432 \u043A\u043E\u043C\u0430\u043D\u0434, \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B, \u043F\u0440\u043E\u0433\u043D\u043E\u0437\u044B \u0438 \u043D\u043E\u0432\u043E\u0441\u0442\u0438"`,description:(t=this.stage)!=null&&t.attributes.metaDescription?(a=this.stage)==null?void 0:a.attributes.metaDescription:`\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u0442\u0443\u0440\u043D\u0438\u0440\u0435 ${(y=this.stage)==null?void 0:y.attributes.title} \u043F\u043E ${(O=(i=this.stage)==null?void 0:i.included.discipline)==null?void 0:O.attributes.title}. \u041F\u0440\u0438\u0437\u043E\u0432\u043E\u0439 \u0444\u043E\u043D\u0434, \u0440\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043C\u0430\u0442\u0447\u0435\u0439, \u0441\u043E\u0441\u0442\u0430\u0432 \u043A\u043E\u043C\u0430\u043D\u0434, \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430, \u043F\u0440\u043E\u0433\u043D\u043E\u0437\u044B.`,url:this.appOrigin+this.$route.fullPath}),Pt={"@context":"https://schema.org","@graph":[{"@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:"1",name:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",item:{"@type":"Thing","@id":"https://www.cybersport.ru"}},{"@type":"ListItem",position:"2",name:"\u0422\u0443\u0440\u043D\u0438\u0440\u044B",item:{"@type":"Thing","@id":`${this.appOrigin}/tournaments`}},{"@type":"ListItem",position:"3",name:`\u0422\u0443\u0440\u043D\u0438\u0440\u044B \u043F\u043E ${($=this.discipline)==null?void 0:$.attributes.title}`,item:{"@type":"Thing","@id":`${this.appOrigin}/tournaments/${(re=this.discipline)==null?void 0:re.attributes.slug}`}},{"@type":"ListItem",position:"4",name:this.stage.attributes.title,item:{"@type":"Thing","@id":this.appOrigin+this.$route.fullPath}}]}]};return{script:[{hid:"ld",type:"application/ld+json",innerHTML:JSON.stringify(Pt)}],__dangerouslyDisableSanitizersByTagID:{ld:["innerHTML"]},link:[{rel:"amphtml",href:`${G}/amp/tournaments/${this.$route.params.discipline}/${this.$route.params.stage}`}],meta:[...ee],title:J}}async asyncData({params:r,app:{$api:t},error:a,redirect:y}){var i,O,$;const re={statusCode:404,message:"\u042D\u0442\u0430\u043F \u0442\u0443\u0440\u043D\u0438\u0440\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D"};try{if(!r.discipline)return a(re);const{data:{data:G,meta:{redirectSlug:ee}}}=await t.tournamentStages.getStageBySlug(r.stage);return!G||((O=(i=G.included.discipline)==null?void 0:i.attributes)==null?void 0:O.slug)!==r.discipline?a(re):ee?y(301,`/tournaments/${($=G.included.discipline)==null?void 0:$.attributes.slug}/${ee}`):{stage:G,clickedStageId:"",redirectSlug:ee}}catch(G){return a(re)}}get appOrigin(){return Object(n.getModule)(Oe.default,this.$store).appOrigin}get adminLink(){var r;const t=Object(n.getModule)(b.default,this.$store);return["ROLE_ADMIN","ROLE_AUTHOR"].includes(((r=t.user)==null?void 0:r.attributes.role)||"")?`/entity/item/stages/${this.stage.id}`:""}get discipline(){return this.stage.included.discipline}get tournament(){return this.stage.included.tournament}get tournamentSuite(){var r;return(r=this.tournament)==null?void 0:r.included.suite}get tournamentStages(){var r;return((r=this.stage.included.tournament)==null?void 0:r.included.stages)||[]}get sectionNavLinks(){const r=[];return this.stage.included.brackets.length>0&&r.push({title:"\u0421\u0435\u0442\u043A\u0430",href:"#stage-brackets"}),this.status==="ended"?r.push({title:"\u0423\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u0438",href:"#stage-participants"},{title:"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B",href:"#stage-results"}):r.push({title:"\u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435",href:"#stage-schedule"},{title:"\u041D\u043E\u0432\u043E\u0441\u0442\u0438",href:"#stage-news"}),r}get tournamentHasSubStages(){return this.tournamentStages.findIndex(r=>r.attributes.parentId)>-1}get stageTabs(){return this.tournamentStages.map(r=>{var t,a;return{id:r.id,title:r.attributes.tabTitle,parentId:r.attributes.parentId,to:this.tournamentStages.find(y=>y.attributes.parentId===r.id)?"#":`/tournaments/${(a=(t=this.discipline)==null?void 0:t.attributes)==null?void 0:a.slug}/${r.attributes.slug}`}})}get currentStageTab(){const r=this.clickedStageId||this.stage.id;return this.stageTabs.find(({id:t})=>r===t)||null}set currentStageTab(r){if(!r)return;const t=r.parentId?r:this.stageTabs.find(a=>a.parentId===r.id)||r;!(t!=null&&t.to)||(this.clickedStageId=t.id,this.$router.push(t.to))}get brackets(){const r=this.stage.included.brackets;return this.stage.attributes.hasSummaryBracket?[...r,{id:"summary",type:"stage_bracket",attributes:{name:"\u041E\u0431\u0449\u0430\u044F \u0442\u0430\u0431\u043B\u0438\u0446\u0430",type:"battleRoyaleSummary",bracketId:this.stage.id},relationships:{}}]:r}get currentBracket(){var r;const t=(r=this.$route.query)==null?void 0:r.bracket;return t&&this.brackets.find(y=>y.id===t)||this.stage.included.defaultBracket||this.brackets[0]||null}set currentBracket(r){var t;((t=this.$route.query)==null?void 0:t.bracket)!==(r==null?void 0:r.id)&&this.$router.replace({query:{...this.$route.query,bracket:r===this.stage.included.defaultBracket||r==null?void 0:r.id}})}get dateRange(){return Object(P.a)(this.stage.attributes.since,this.stage.attributes.till)}get status(){if(!this.stage.attributes.since.day||!this.stage.attributes.since.month)return"upcoming";const r=this.$dayjs(`${this.stage.attributes.since.year}-${this.stage.attributes.since.month}-${this.stage.attributes.since.day} 12:00:00`);if(!r.isValid())return"upcoming";const t=this.$dayjs().tz();if(t.isBefore(r))return t.diff(r)>We?"upcoming":"soon";if(!this.stage.attributes.till.day||!this.stage.attributes.till.month)return"started";const a=this.$dayjs(`${this.stage.attributes.till.year}-${this.stage.attributes.till.month}-${this.stage.attributes.till.day} 12:00:00`);return a.isValid()&&t.isAfter(a)?t.diff(a)>We?"ended":"just-ended":"started"}prize(r){return r?`$ ${Object(Re.a)(r)}`:""}};me=gt([Object(n.Component)({components:{RoundedBlock:I.a,LayoutWithAside:T.a,ScrollTabs:z,Tabs:ne.a,TextObject:Y.a,StreamList:Ge.a,StageBrackets:Ce.a,StageSchedule:at,StageResults:pt,ParticipantsList:tt,WidgetNews:_t.a,SectionNav:ft.a,CommentsList:mt.a,AdminEditButton:ht.a,AdfoxBanner:yt.a,OkkoButton:xe.a}})],me);var jt=me,Fe=s(1257);function Ot(r){this.$style=Fe.default.locals||Fe.default}var xt=Object(D.a)(jt,h,m,!1,Ot,null,null),Dt=f.default=xt.exports},888:function(p,f,s){p.exports={root:"root_05blb",columns:"columns_YAIVt",column:"column_AnRch",cells:"cells_iwbKv",whiteFirst:"whiteFirst_TGqc6",thirdPlaceSpacing:"thirdPlaceSpacing_Pq3WM",cell:"cell_2wl+K",cellInvisible:"cellInvisible_b0M46",match:"match_q0y07",scoreWinner:"scoreWinner_XiWAy",matchWin1:"matchWin1_aw3ge",cellParticipant2:"cellParticipant2_TtbVT",scoreWinner1:"scoreWinner1_YdUq6",matchWin2:"matchWin2_uamcA",cellParticipant1:"cellParticipant1_X4FO+",scoreWinner2:"scoreWinner2_A6ECp",thirdPlaceCell:"thirdPlaceCell_qZfeH",connector:"connector_wnKTb",withConnector_none:"withConnector_none_MqunN",withConnector_straight:"withConnector_straight_XRxqM",withConnector_curved:"withConnector_curved_mrkQ7",withConnector_curvedDown:"withConnector_curvedDown_1mhbP",withConnector_curvedUp:"withConnector_curvedUp_wXPg4",withConnector_longCurved:"withConnector_longCurved_n7ip2",cellDate:"cellDate_5Shiq",cellParticipant:"cellParticipant_Xk1y+",cellScore:"cellScore_6KKfu",thirdPlaceLabel:"thirdPlaceLabel_Kf3VG"}},889:function(p,f,s){p.exports={root:"root_EogF1"}},890:function(p,f,s){p.exports={root:"root_8g8RC"}},891:function(p,f,s){p.exports={root:"root_kMDus",compactTable:"compactTable_e0mv4",head:"head_Hf+nU",row:"row_F+V2x",cell:"cell_gQJ1R",cellNumber:"cellNumber_vYlKZ",cellTitle:"cellTitle_NFerd",cellParticipant:"cellParticipant_anTAh",color:"color_7IE-1",matchesButton:"matchesButton_ksjEL",matchesButtonActive:"matchesButtonActive_FhXNG"}},892:function(p,f,s){p.exports={root:"root_LFBG+"}},893:function(p,f,s){p.exports={root:"root_5DZ5i",legend:"legend_wwuLC"}},894:function(p,f,s){p.exports={root:"root_3CBvD",btn:"btn_ejijw",btnActive:"btnActive_tAwp0"}},895:function(p,f,s){p.exports={root:"root_UwtgT",preloader:"preloader_AWUsi",modeButtons:"modeButtons_JwMi7",table:"table_M+EhY",showMore:"showMore_UAFeT",tableContent:"tableContent_BM9yl",showMoreActive:"showMoreActive_LGrkt",col:"col_CNRoK",row:"row_wkkM5",cell:"cell_r6694",hovered:"hovered_fAvQZ",headRow:"headRow_QDkJH",participantRow:"participantRow_JxpAL",cellPosition:"cellPosition_1K5EP",cellTeam:"cellTeam_cEJjQ",stats:"stats_BGtrO",rounds:"rounds_BPtkm",roundHeader:"roundHeader_wVOxr",roundTypes:"roundTypes_PAMmN",roundName:"roundName_MJIy2",roundType:"roundType_uC+mL",swordIcon:"swordIcon_dE6gt",roundScore:"roundScore_XT+Hv",rank:"rank_IfsPV",rankGold:"rankGold_K1zUS",rankSilver:"rankSilver_esjhk",rankBronze:"rankBronze_XjDt+",legend:"legend_73Egd"}},896:function(p,f,s){p.exports={root:"root_bILFQ"}},897:function(p,f,s){p.exports={root:"root_9llpa",bracketTabs:"bracketTabs_mFZc9",preloader:"preloader_Bga-e",loading:"loading_m06FR"}},898:function(p,f,s){p.exports={root:"root_RxXkH",header:"header_4DPBP",logo:"logo_2ABIk",title:"title_CEMJJ",list:"list_udW-+",player:"player_JlVlv",country:"country_p8UP3",name:"name_+Gu6V",breakLines:"breakLines_PKL0V",namePlaceholder:"namePlaceholder_iMPZ-",nickname:"nickname_MYzNj"}},903:function(p,f,s){"use strict";s.d(f,"a",function(){return m});const h={};function m(n,P,b=!1){return h[n]||(h[n]=new Promise((I,T)=>{const x=document.createElement("script");x.async=!0,x.src=n,P&&(x.id=P),x.onload=()=>{x.dataset.loaded="1",b&&delete h[n],I(x)},x.onerror=()=>{x.dataset.loaded="0",T()},document.head.appendChild(x)})),h[n]}},935:function(p,f,s){p.exports={}},959:function(p,f,s){p.exports={root:"root_fXYJq"}},960:function(p,f,s){p.exports={root:"root_RKCxP"}},961:function(p,f,s){p.exports={root:"root_Ts68a",tabs:"tabs_03upR"}},973:function(p,f,s){"use strict";var h=function(){var g=this,v=g._self._c,j=g._self._setupProxy;return g.okkoLink?v("a",{staticClass:"okko-btn",attrs:{href:g.okkoLink,target:"_blank"}},[v("img",{attrs:{src:s(993),alt:"okko"}})]):g._e()},m=[],n=s(0),P=s(15),b=Object.defineProperty,I=Object.getOwnPropertyDescriptor,T=(C,g,v,j)=>{for(var D=j>1?void 0:j?I(g,v):g,S=C.length-1,w;S>=0;S--)(w=C[S])&&(D=(j?w(g,v,D):w(D))||D);return j&&D&&b(g,v,D),D};let x=class extends n.Vue{get okkoLink(){var C,g;return((g=(C=Object(n.getModule)(P.default,this.$store).settings.find(v=>v&&v.id==="okko.link"))==null?void 0:C.attributes)==null?void 0:g.value)||""}};x=T([n.Component],x);var W=x,B=s(994),M=s(3),R=Object(M.a)(W,h,m,!1,null,"603576e6",null),K=f.a=R.exports},980:function(p,f,s){"use strict";var h=s(888),m=s.n(h);s.d(f,"default",function(){return m.a})},981:function(p,f,s){"use strict";var h=s(889),m=s.n(h);s.d(f,"default",function(){return m.a})},982:function(p,f,s){"use strict";var h=s(890),m=s.n(h);s.d(f,"default",function(){return m.a})},983:function(p,f,s){"use strict";var h=s(891),m=s.n(h);s.d(f,"default",function(){return m.a})},984:function(p,f,s){"use strict";var h=s(892),m=s.n(h);s.d(f,"default",function(){return m.a})},985:function(p,f,s){"use strict";var h=s(893),m=s.n(h);s.d(f,"default",function(){return m.a})},986:function(p,f,s){"use strict";var h=s(894),m=s.n(h);s.d(f,"default",function(){return m.a})},987:function(p,f,s){"use strict";var h=s(895),m=s.n(h);s.d(f,"default",function(){return m.a})},988:function(p,f,s){"use strict";var h=s(896),m=s.n(h);s.d(f,"default",function(){return m.a})},989:function(p,f,s){"use strict";var h=s(897),m=s.n(h);s.d(f,"default",function(){return m.a})},991:function(p,f,s){"use strict";var h=s(898),m=s.n(h);s.d(f,"default",function(){return m.a})},993:function(p,f,s){p.exports=s.p+"img/okko.b42336b.png"},994:function(p,f,s){"use strict";var h=s(935),m=s.n(h)},998:function(p,f,s){"use strict";var h=function(){var e=this,_=e._self._c,d=e._self._setupProxy;return e.discipline?_("div",{class:e.$style.root},[e.items.length?_("tabs",{class:e.$style.bracketTabs,attrs:{bold:"",items:e.bracketTabs},model:{value:e.currentIndex,callback:function(o){e.currentIndex=o},expression:"currentIndex"}}):e._e(),e.currentComponent?_(e.currentComponent.is,e._b({tag:"component",class:{[e.$style.loading]:e.loading}},"component",e.currentComponent.props,!1)):e.loading?_("div",{class:e.$style.preloader}):e._e()],1):e._e()},m=[],n=s(0),P=s(91),b=function(){var e=this,_=e._self._c,d=e._self._setupProxy;return e.bracketData?_("div",{class:e.$style.root},[_("bracket-grid",{attrs:{rounds:e.bracketData.included.rounds,discipline:e.discipline,"third-place-match":e.bracketData.included.thirdPlaceMatch}})],1):e._e()},I=[],T=function(){var e=this,_=e._self._c,d=e._self._setupProxy;return _("div",{class:e.$style.root},[_("ol",{class:[e.$style.columns,[e.thirdPlaceMatch&&e.visibleRounds.length<3&&e.$style.thirdPlaceSpacing,e.whiteFirst&&e.$style.whiteFirst]]},[e._l(e.visibleRounds,function(o){return _("li",{key:`round-${o.id}`,class:[e.$style.column,o.connectorType&&e.$style[`withConnector_${o.connectorType}`]],style:`--connector-height-k:${o.connectorHeightK};--top-shift:${o.topShift}`},[o.visible?[_("h3",[e._v(e._s(o.name))]),_("ol",{class:e.$style.cells},e._l(o.cells,function(c){return _("li",{key:`cell-${c.id}`,class:[e.$style.cell,c.attributes.isMatchHidden&&e.$style.cellInvisible]},[_("div",{class:e.$style.connector}),_("div",{class:e.$style.cellDate},[e._v(e._s(e.getReadableDate(c.included.match)))]),!c.attributes.isMatchHidden&&c.included.match?_("nuxt-link",{class:[e.$style.match,e.getWinStatusClass(c.included.match)],attrs:{to:`/matches/${e.discipline.attributes.slug}/${c.included.match.id}`}},[e._l([c.included.match.included.participant1,c.included.match.included.participant2],function(u,N){return[_("participant-display",{key:u.id+N,class:[e.$style.cellParticipant,N===0?e.$style.cellParticipant1:e.$style.cellParticipant2],attrs:{item:u,discipline:e.discipline}}),_("div",{class:e.$style.cellScore},[e._v(e._s(e.getScore(u))),e.isCellWinnerVisible(o)&&e.getScore(u)&&e.isMatchFinished?_("div",{class:[e.$style.scoreWinner,N===0?e.$style.scoreWinner1:e.$style.scoreWinner2]},[_("span",[e._v(e._s(e.getScore(u)))]),_("svg-icon",{attrs:{name:"cup",width:"13",height:"13"}})],1):e._e()])]})],2):_("div",{class:e.$style.match},[_("div",{class:e.$style.cellParticipant},[e._v("TBD")]),_("div",{class:e.$style.cellParticipant},[e._v("TBD")])])],1)}),0)]:e._e()],2)}),e.thirdPlaceMatch?_("li",{class:e.$style.thirdPlaceCell},[_("div",{class:e.$style.cellDate},[_("span",{class:e.$style.thirdPlaceLabel},[e._v("3 \u043C\u0435\u0441\u0442\u043E")]),e._v(" "+e._s(e.getReadableDate(e.thirdPlaceMatch)))]),_("nuxt-link",{class:[e.$style.match,e.getWinStatusClass(e.thirdPlaceMatch)],attrs:{to:`/matches/${e.discipline.attributes.slug}/${e.thirdPlaceMatch.id}`}},[_("participant-display",{class:[e.$style.cellParticipant,e.$style.cellParticipant1],attrs:{item:e.thirdPlaceMatch.included.participant1,discipline:e.discipline}}),_("div",{class:e.$style.cellScore},[e._v(e._s(e.getScore(e.thirdPlaceMatch.included.participant1)))]),_("participant-display",{class:[e.$style.cellParticipant,e.$style.cellParticipant2],attrs:{item:e.thirdPlaceMatch.included.participant2,discipline:e.discipline}}),_("div",{class:e.$style.cellScore},[e._v(e._s(e.getScore(e.thirdPlaceMatch.included.participant2)))])],1)],1):e._e()],2)])},x=[],W=s(923),B=Object.defineProperty,M=Object.getOwnPropertyDescriptor,R=(l,e,_,d)=>{for(var o=d>1?void 0:d?M(e,_):e,c=l.length-1,u;c>=0;c--)(u=l[c])&&(o=(d?u(e,_,o):u(o))||o);return d&&o&&B(e,_,o),o};function K(l,e,_){return e===null&&_&&!_.attributes.isHidden?"longCurved":l===null||!e||e.attributes.isHidden?"none":l.included.cells.length===e.included.cells.length?"straight":"curved"}let C=class extends n.Vue{get maxCellCount(){var l;return((l=this.rounds.find(e=>e&&!e.attributes.isHidden))==null?void 0:l.included.cells.length)||0}get isMatchFinished(){var l,e,_,d,o,c;return!!((c=(o=(d=(_=(e=(l=this.rounds[0])==null?void 0:l.included)==null?void 0:e.cells[0])==null?void 0:_.included)==null?void 0:d.match)==null?void 0:o.attributes)!=null&&c.isFinished)}get visibleRounds(){let l=0;return this.rounds.map((e,_)=>{if(!e||e.attributes.isHidden)return{visible:!1,id:`empty-${_}`,name:"",cells:[],connectorType:"",connectorHeightK:0,topShift:0};const d=_===this.rounds.length-1&&this.finishLine||K(e,this.rounds[_+1],this.rounds[_+2]),o={visible:!0,id:e.id,name:e.attributes.name||"",cells:e.included.cells||[],connectorType:d,connectorHeightK:this.maxCellCount/(e.included.cells.length||this.maxCellCount),topShift:l};return d==="straight"&&(l+=1),o})}isCellWinnerVisible(l){var e,_;return(e=this.rounds)!=null&&e.length?((_=this.rounds[0])==null?void 0:_.type)==="single_round"?l.name==="\u0424\u0438\u043D\u0430\u043B":l.name==="\u0413\u0440\u0430\u043D\u0434-\u0444\u0438\u043D\u0430\u043B":!1}getReadableDate(l){return this.$dayjs.formatDateTime(l==null?void 0:l.attributes.date,l==null?void 0:l.attributes.time,"")}getScore(l){return(l==null?void 0:l.attributes.matchScore)==null?"":l.attributes.matchScore}getWinStatusClass(l){if(!l)return null;const e=[this.getScore(l.included.participant1),this.getScore(l.included.participant2)];return e[0]==null||e[1]==null||e[0]===e[1]?null:e[0]>e[1]?this.$style.matchWin1:this.$style.matchWin2}};R([Object(n.Prop)({type:Array,default:()=>[]})],C.prototype,"rounds",2),R([Object(n.Prop)({type:Object,required:!0})],C.prototype,"discipline",2),R([Object(n.Prop)({type:Object,default:null})],C.prototype,"thirdPlaceMatch",2),R([Object(n.Prop)({type:String,default:""})],C.prototype,"finishLine",2),R([Object(n.Prop)({type:Boolean,default:!1})],C.prototype,"whiteFirst",2),C=R([Object(n.Component)({components:{ParticipantDisplay:W.a}})],C);var g=C,v=s(980),j=s(3);function D(l){this.$style=v.default.locals||v.default}var S=Object(j.a)(g,T,x,!1,D,null,null),w=S.exports,V=Object.defineProperty,ne=Object.getOwnPropertyDescriptor,Z=(l,e,_,d)=>{for(var o=d>1?void 0:d?ne(e,_):e,c=l.length-1,u;c>=0;c--)(u=l[c])&&(o=(d?u(e,_,o):u(o))||o);return d&&o&&V(e,_,o),o};let U=class extends n.Vue{};Z([Object(n.Prop)({type:Object,required:!0})],U.prototype,"stageBracket",2),Z([Object(n.Prop)({type:Object,required:!0})],U.prototype,"discipline",2),Z([Object(n.Prop)({required:!0})],U.prototype,"bracketData",2),U=Z([n.Component],U);var ie=Object.defineProperty,De=Object.getOwnPropertyDescriptor,E=(l,e,_,d)=>{for(var o=d>1?void 0:d?De(e,_):e,c=l.length-1,u;c>=0;c--)(u=l[c])&&(o=(d?u(e,_,o):u(o))||o);return d&&o&&ie(e,_,o),o};let k=class extends U{};k=E([Object(n.Component)({components:{BracketGrid:w}})],k);var L=k,F=s(981);function A(l){this.$style=F.default.locals||F.default}var z=Object(j.a)(L,b,I,!1,A,null,null),Y=z.exports,Ge=function(){var e=this,_=e._self._c,d=e._self._setupProxy;return e.bracketData?_("div",{class:e.$style.root},[_("bracket-grid",{attrs:{rounds:e.upperRounds.slice(e.trimLeftLength[0]),discipline:e.discipline,"finish-line":e.bracketData.included.finalRound&&!e.bracketData.included.finalRound.attributes.isHidden&&"curvedDown"||""}}),_("bracket-grid",{attrs:{rounds:e.lowerRounds.slice(e.trimLeftLength[1]),discipline:e.discipline,"finish-line":e.bracketData.included.finalRound&&!e.bracketData.included.finalRound.attributes.isHidden&&"curvedUp"||""}}),e.bracketData.included.finalRound&&!e.bracketData.included.finalRound.attributes.isHidden?_("bracket-grid",{attrs:{rounds:[e.bracketData.included.finalRound],discipline:e.discipline,"white-first":e.isFinalRoundWhite}}):e._e()],1):e._e()},Ue=[],Ne=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor,He=(l,e,_,d)=>{for(var o=d>1?void 0:d?Ke(e,_):e,c=l.length-1,u;c>=0;c--)(u=l[c])&&(o=(d?u(e,_,o):u(o))||o);return d&&o&&Ne(e,_,o),o};let ve=class extends U{get upperRounds(){var l,e,_;if(!((l=this.bracketData)!=null&&l.included.upperRounds))return[];if(this.bracketData.included.upperRounds.length<2)return(e=this.bracketData)==null?void 0:e.included.upperRounds;const d=[];let o=0;for(this.bracketData.attributes.type==="full"?(d.push(null),d.push((_=this.bracketData)==null?void 0:_.included.upperRounds[o++])):(d.push(this.bracketData.included.upperRounds[o++]),d.push(this.bracketData.included.upperRounds[o++]));o<this.bracketData.included.upperRounds.length;++o)d.push(null),d.push(this.bracketData.included.upperRounds[o]);return d}get lowerRounds(){var l;return((l=this.bracketData)==null?void 0:l.included.lowerRounds)||[]}get trimLeftLength(){var l,e;const _=Math.abs(this.upperRounds.length-this.lowerRounds.length),d=Math.max(this.upperRounds.length,this.lowerRounds.length),o=this.upperRounds.length>this.lowerRounds.length?[this.upperRounds,this.lowerRounds]:[this.lowerRounds,this.upperRounds];let c=[0,0];for(let u=0;u<d;++u)if(o[0][u]&&!((l=o[0][u])!=null&&l.attributes.isHidden)||o[0][u-_]&&!((e=o[0][u-_])!=null&&e.attributes.isHidden)){c=this.upperRounds.length>this.lowerRounds.length?[u,u-_]:[u-_,u];break}return c[0]<0?[0,c[1]]:c[1]<0?[c[0],0]:c}get isFinalRoundWhite(){return Math.max(...this.trimLeftLength)%2===1}};ve=He([Object(n.Component)({components:{BracketGrid:w}})],ve);var Ve=ve,$e=s(982);function ze(l){this.$style=$e.default.locals||$e.default}var Ye=Object(j.a)(Ve,Ge,Ue,!1,ze,null,null),he=Ye.exports,ue=function(){var e=this,_=e._self._c,d=e._self._setupProxy;return e.bracketData?_("div",{class:e.$style.root},[e._l(e.bracketData.included.tables,function(o){return _("group-table",{key:o.id,attrs:{table:o,"match-mode":e.matchMode,"use-short-names":e.useShortNames,discipline:e.discipline,compactGroupTable:e.compactGroupTable}})}),_("bracket-legend",{class:e.$style.legend,attrs:{items:e.bracketData.included.legends}})],2):e._e()},Je=[],Be=function(){var e=this,_=e._self._c,d=e._self._setupProxy;return _("div",{class:[e.$style.root,e.compactGroupTable&&e.$style.compactTable],style:`--stat-column-count:${e.columns.length}`},[_("div",{class:e.$style.head},[_("div"),_("div",{class:[e.$style.cell,e.$style.cellNumber]},[e._v("#")]),_("div",{class:[e.$style.cell,e.$style.cellTitle]},[e._v(e._s(e.table.attributes.name||""))]),e._l(e.columns,function(o){return _("div",{key:o.title,class:e.$style.cell,attrs:{title:o.title}},[e._v(e._s(o.shortTitle))])})],2),e._l(e.table.included.rows,function(o,c){return _("div",{key:o.id,class:e.$style.row,style:e.getRowStyle(o)},[_("div",{class:e.$style.color}),_("div",{class:[e.$style.cell,e.$style.cellNumber]},[e._v(e._s(c+1))]),_("div",{class:[e.$style.cell,e.$style.cellParticipant]},[_("participant-display",{attrs:{link:"",item:o.included.stageParticipant,"unknown-label":o.attributes.isTba?"TBA":"TBD",discipline:e.discipline}})],1),e._l(e.columns,function(u){return _("div",{key:u.key,class:e.$style.cell,attrs:{title:u.title}},[e._v(e._s(o.attributes[u.attr]))])})],2)}),e.matchMode!=="none"?[_("button",{class:[e.$style.matchesButton,e.matchesVisible&&e.$style.matchesButtonActive],attrs:{type:"button"},on:{click:function(o){return o.preventDefault(),e.toggleMatches()}}},[_("span",[e._v("\u041C\u0430\u0442\u0447\u0438")]),_("svg-icon",{attrs:{name:"chevron"}})],1),e.matchesVisible?_("matches-list",{attrs:{"style-type":"compact",details:"none","use-short-names":e.useShortNames,items:e.matchesWithoutReplay,"group-by-date":e.matchMode==="groupByDate"}}):e._e(),e.matchesVisible&&e.matchesWithReplay.length?_("matches-list",{attrs:{"style-type":"compact",details:"none","use-short-names":e.useShortNames,items:e.matchesWithReplay,"group-by-date":e.matchMode==="groupByDate",isReplay:""}}):e._e()]:e._e()],2)},Xe=[],ke=s(880),Ze=Object.defineProperty,ye=Object.getOwnPropertyDescriptor,te=(l,e,_,d)=>{for(var o=d>1?void 0:d?ye(e,_):e,c=l.length-1,u;c>=0;c--)(u=l[c])&&(o=(d?u(e,_,o):u(o))||o);return d&&o&&Ze(e,_,o),o};let X=class extends n.Vue{constructor(){super(...arguments),this.matchesVisible=!1,this.matches=null}get columns(){return[{title:"\u041C\u0430\u0442\u0447\u0438",shortTitle:"M",attr:"matchesCount"},{title:"\u0412\u044B\u0438\u0433\u0440\u044B\u0448\u0438",shortTitle:"\u0412",attr:"winsCount"},this.hasDraws?{title:"\u041D\u0438\u0447\u044C\u0438",shortTitle:"\u041D",attr:"drawsCount"}:null,{title:"\u041F\u043E\u0440\u0430\u0436\u0435\u043D\u0438\u044F",shortTitle:"\u041F",attr:"lossesCount"},{title:"\u041E\u0447\u043A\u0438",shortTitle:"\u041E",attr:"score"},this.table.attributes.isShowRoundsDiff?{title:"\u0420\u0430\u0437\u043D\u0438\u0446\u0430 \u0440\u0430\u0443\u043D\u0434\u043E\u0432",shortTitle:"\u0420\u0420",attr:"roundsDiff"}:null].filter(e=>!!e)}get hasDraws(){return this.table.included.rows.findIndex(l=>{var e;return(e=l.attributes)==null?void 0:e.drawsCount})>-1}get matchesWithoutReplay(){var l,e;return(e=(l=this.matches)==null?void 0:l.filter(_=>!_.attributes.isReplay))!=null?e:[]}get matchesWithReplay(){var l,e;return(e=(l=this.matches)==null?void 0:l.filter(_=>_.attributes.isReplay))!=null?e:[]}getPlaceColor(l){var e,_,d,o,c,u,N,le,ae,Pe;return(o=(d=(_=(e=l==null?void 0:l.included)==null?void 0:e.placeLegend)==null?void 0:_.attributes)==null?void 0:d.color)!=null&&o.includes("#")?(N=(u=(c=l==null?void 0:l.included)==null?void 0:c.placeLegend)==null?void 0:u.attributes)==null?void 0:N.color:`#${(Pe=(ae=(le=l==null?void 0:l.included)==null?void 0:le.placeLegend)==null?void 0:ae.attributes)==null?void 0:Pe.color}`}getRowColor(l){var e,_,d,o,c,u,N,le,ae;return(d=(_=(e=l==null?void 0:l.included)==null?void 0:e.rowLegend)==null?void 0:_.attributes.color)!=null&&d.includes("#")?(u=(c=(o=l==null?void 0:l.included)==null?void 0:o.rowLegend)==null?void 0:c.attributes)==null?void 0:u.color:`#${(ae=(le=(N=l==null?void 0:l.included)==null?void 0:N.rowLegend)==null?void 0:le.attributes)==null?void 0:ae.color}`}getRowStyle(l){return{"--place-color":this.getPlaceColor(l),"--row-color":this.getRowColor(l)}}async loadMatches(){this.matches=(await this.$api.matches.getMatches({sort:"date","filter[groupTable]":this.table.id})).data.data}toggleMatches(){this.matchesVisible=!this.matchesVisible,!(!this.matchesVisible||this.matches!==null)&&this.loadMatches()}};te([Object(n.Prop)({type:Object,required:!0})],X.prototype,"table",2),te([Object(n.Prop)({type:String,default:"list"})],X.prototype,"matchMode",2),te([Object(n.Prop)({type:Object,default:null})],X.prototype,"discipline",2),te([Object(n.Prop)({type:Boolean,default:!1})],X.prototype,"useShortNames",2),te([Object(n.Prop)({type:Boolean,default:!1})],X.prototype,"compactGroupTable",2),X=te([Object(n.Component)({components:{ParticipantDisplay:W.a,MatchesList:ke.a}})],X);var be=X,Se=s(983);function de(l){this.$style=Se.default.locals||Se.default}var Qe=Object(j.a)(be,Be,Xe,!1,de,null,null),Te=Qe.exports,qe=function(){var e=this,_=e._self._c,d=e._self._setupProxy;return _("ul",{class:e.$style.root},e._l(e.items,function(o){return _("li",{key:o.id,style:`--legend-color:${o.attributes.color.includes("#")?o.attributes.color:"#"+o.attributes.color}`},[e._v(e._s(o.attributes.name))])}),0)},et=[],tt=Object.defineProperty,_t=Object.getOwnPropertyDescriptor,Ce=(l,e,_,d)=>{for(var o=d>1?void 0:d?_t(e,_):e,c=l.length-1,u;c>=0;c--)(u=l[c])&&(o=(d?u(e,_,o):u(o))||o);return d&&o&&tt(e,_,o),o};let ce=class extends n.Vue{};Ce([Object(n.Prop)({type:Array,required:!0})],ce.prototype,"items",2),ce=Ce([n.Component],ce);var st=ce,Ie=s(984);function ot(l){this.$style=Ie.default.locals||Ie.default}var rt=Object(j.a)(st,qe,et,!1,ot,null,null),_e=rt.exports,Ee=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,pe=(l,e,_,d)=>{for(var o=d>1?void 0:d?Q(e,_):e,c=l.length-1,u;c>=0;c--)(u=l[c])&&(o=(d?u(e,_,o):u(o))||o);return d&&o&&Ee(e,_,o),o};let q=class extends U{};pe([Object(n.Prop)({type:String})],q.prototype,"matchMode",2),pe([Object(n.Prop)({type:Boolean,default:!1})],q.prototype,"useShortNames",2),pe([Object(n.Prop)({type:Boolean,default:!1})],q.prototype,"compactGroupTable",2),q=pe([Object(n.Component)({components:{BracketLegend:_e,GroupTable:Te}})],q);var lt=q,Me=s(985);function at(l){this.$style=Me.default.locals||Me.default}var nt=Object(j.a)(lt,ue,Je,!1,at,null,null),ge=nt.exports,Re=function(){var e=this,_=e._self._c,d=e._self._setupProxy;return _("div",{class:e.$style.root},[e.loading?_("div",{class:e.$style.preloader}):[e.tableMode!==e.tableModeOptions.Summary?_("div",[_("button-tabs",{class:e.$style.modeButtons,attrs:{items:e.tableModeButtons},model:{value:e.tableModeIndex,callback:function(o){e.tableModeIndex=o},expression:"tableModeIndex"}})],1):e._e(),_("div",{class:e.$style.table},[_("div",{class:e.$style.tableContent},[_("div",{class:[e.$style.col,e.$style.participantsCol]},[_("div",{class:[e.$style.row,e.$style.headRow]},[_("div",{class:[e.$style.cell,e.$style.cellPosition]},[e._v("#")]),_("div",{class:[e.$style.cell,e.$style.cellTeam]},[e._v("\u0423\u0447\u0430\u0441\u0442\u043D\u0438\u043A")])]),e._l(e.visibleParticipants,function(o,c){return _("div",{key:o.id,class:[e.$style.row,e.$style.participantRow,c===e.hoveredRow&&e.$style.hovered],style:e.getRowStyle(o),on:{mouseenter:function(u){return e.onRowHover(c)},mouseleave:function(u){return e.onRowHoverLeave()}}},[_("div",{class:[e.$style.cell,e.$style.cellPosition]},[_("span",[e._v(e._s(c+1))])]),_("div",{class:[e.$style.cell,e.$style.cellTeam]},[_("span",[_("participant-display",{attrs:{link:"",item:o,discipline:e.discipline}})],1)])])})],2),_("div",{directives:[{name:"dragscroll",rawName:"v-dragscroll"}],class:e.$style.stats},[_("div",{class:e.$style.col},[_("div",{class:[e.$style.row,e.$style.headRow]},[e.tableMode===e.tableModeOptions.Frags?[_("div",{class:e.$style.cell},[e._v("\u041E\u0447\u043A\u0438")]),_("div",{class:e.$style.cell},[e._v("\u0423\u0431\u0438\u0439\u0441\u0442\u0432\u0430")])]:e.tableMode===e.tableModeOptions.Score?[_("div",{class:e.$style.cell},[e._v("\u0412\u0441\u0435\u0433\u043E")]),_("div",{class:e.$style.cell},[e._v("\u0417\u0430 \u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430")]),_("div",{class:e.$style.cell},[e._v("\u0417\u0430 \u043C\u0435\u0441\u0442\u043E")]),_("div",{class:e.$style.cell},[e._v("\u0411\u043E\u043D\u0443\u0441\u044B")])]:e.tableMode===e.tableModeOptions.Summary?[_("div",{class:e.$style.cell},[e._v("\u041E\u0447\u043A\u0438")]),_("div",{class:e.$style.cell},[e._v("\u0423\u0431\u0438\u0439\u0441\u0442\u0432\u0430")]),_("div",{class:e.$style.cell},[e._v("\u0417\u0430 \u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430")]),_("div",{class:e.$style.cell},[e._v("\u0417\u0430 \u043C\u0435\u0441\u0442\u043E")]),_("div",{class:e.$style.cell},[e._v("\u0411\u043E\u043D\u0443\u0441\u044B")])]:e._e()],2),e._l(e.visibleParticipants,function(o,c){return _("div",{key:o.id,class:[e.$style.row,c===e.hoveredRow&&e.$style.hovered],on:{mouseenter:function(u){return e.onRowHover(c)},mouseleave:function(u){return e.onRowHoverLeave()}}},[e.tableMode===e.tableModeOptions.Frags?[_("div",{class:e.$style.cell},[e._v(e._s(e.results.get(o.id).totalScore))]),_("div",{class:e.$style.cell},[e._v(e._s(e.results.get(o.id).totalKills))])]:e.tableMode===e.tableModeOptions.Score?[_("div",{class:e.$style.cell},[e._v(e._s(e.results.get(o.id).totalScore))]),_("div",{class:e.$style.cell},[e._v(e._s(e.results.get(o.id).totalKillsScore))]),_("div",{class:e.$style.cell},[e._v(e._s(e.results.get(o.id).totalPlaceScore))]),_("div",{class:e.$style.cell},[e._v(e._s(e.results.get(o.id).bonuses))])]:e.tableMode===e.tableModeOptions.Summary&&o.included.battleRoyaleRow&&o.included.battleRoyaleRow.attributes.summary?[_("div",{class:e.$style.cell},[e._v(e._s(o.included.battleRoyaleRow.attributes.summary.totalScore))]),_("div",{class:e.$style.cell},[e._v(e._s(o.included.battleRoyaleRow.attributes.summary.kills))]),_("div",{class:e.$style.cell},[e._v(e._s(o.included.battleRoyaleRow.attributes.summary.killsScore))]),_("div",{class:e.$style.cell},[e._v(e._s(o.included.battleRoyaleRow.attributes.summary.placeScore))]),_("div",{class:e.$style.cell},[e._v(e._s(o.included.battleRoyaleRow.attributes.bonuses))])]:e._e()],2)})],2),e.tableMode!==e.tableModeOptions.Summary?_("div",{directives:[{name:"dragscroll",rawName:"v-dragscroll"}],class:[e.$style.col,e.$style.rounds]},[_("div",{class:[e.$style.row,e.$style.headRow]},e._l(e.rounds,function(o,c){return _("div",{key:o.id,class:e.$style.cell},[_("div",{class:e.$style.roundHeader},[_("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.getRoundTooltip(o),expression:"getRoundTooltip(round)"}],class:e.$style.roundName},[e._v("\u0420\u0430\u0443\u043D\u0434 "+e._s(c+1))]),_("div",{class:e.$style.roundTypes},[_("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.placeTooltip,expression:"placeTooltip"}],class:e.$style.roundType},[e._v("#")]),_("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.killsTooltip,expression:"killsTooltip"}],class:e.$style.roundType},[_("svg-icon",{class:e.$style.swordIcon,attrs:{name:"sword",width:11,height:11}})],1)])])])}),0),e._l(e.visibleParticipants,function(o,c){return _("div",{key:o.id,class:[e.$style.row,c===e.hoveredRow&&e.$style.hovered],on:{mouseenter:function(u){return e.onRowHover(c)},mouseleave:function(u){return e.onRowHoverLeave()}}},e._l(e.results.get(o.id).rounds,function(u,N){return _("div",{key:u?u.id:`empty-${N}`,class:e.$style.cell},[_("span",{class:[e.$style.roundScore,e.$style.rank,!!u&&e.getRankClasses(u.attributes.place)]},[u?e.tableMode===e.tableModeOptions.Frags?[e._v(e._s(u.attributes.place))]:[e._v(e._s(u.attributes.placeScore))]:[e._v("-")]],2),_("span",{class:e.$style.roundScore},[u?e.tableMode===e.tableModeOptions.Frags?[e._v(e._s(u.attributes.kills))]:[e._v(e._s(u.attributes.killsScore))]:[e._v("-")]],2)])}),0)})],2):e._e()])]),e.hasFold?_("button",{class:[e.$style.showMore,!e.folded&&e.$style.showMoreActive],on:{click:function(o){return e.toggleFolded()}}},[_("svg-icon",{attrs:{name:"chevron"}}),_("span",[e._v("\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0432\u0441\u0435 \u043A\u043E\u043C\u0430\u043D\u0434\u044B")])],1):e._e()]),e.bracketData.included&&e.bracketData.included.legends?_("bracket-legend",{class:e.$style.legend,attrs:{items:e.bracketData.included.legends}}):e._e()]],2)},it=[],ut=function(){var e=this,_=e._self._c,d=e._self._setupProxy;return _("div",{class:e.$style.root},e._l(e.items,function(o,c){return _("a",{key:c,class:[e.$style.btn,{[e.$style.btnActive]:e.value===c}],attrs:{href:"#"},on:{click:function(u){return u.preventDefault(),e.onItemClick(c)}}},[e._v(e._s(o.title))])}),0)},dt=[],fe=Object.defineProperty,se=Object.getOwnPropertyDescriptor,je=(l,e,_,d)=>{for(var o=d>1?void 0:d?se(e,_):e,c=l.length-1,u;c>=0;c--)(u=l[c])&&(o=(d?u(e,_,o):u(o))||o);return d&&o&&fe(e,_,o),o};let oe=class extends n.Vue{onItemClick(l){this.value!==l&&this.$emit("input",l)}};je([Object(n.Prop)({type:Array,required:!0})],oe.prototype,"items",2),je([Object(n.Prop)({type:Number,default:-1})],oe.prototype,"value",2),oe=je([n.Component],oe);var ct=oe,we=s(986);function pt(l){this.$style=we.default.locals||we.default}var ft=Object(j.a)(ct,ut,dt,!1,pt,null,null),mt=ft.exports,vt=Object.defineProperty,ht=Object.getOwnPropertyDescriptor,yt=(l,e,_,d)=>{for(var o=d>1?void 0:d?ht(e,_):e,c=l.length-1,u;c>=0;c--)(u=l[c])&&(o=(d?u(e,_,o):u(o))||o);return d&&o&&vt(e,_,o),o},Le=(l=>(l[l.Frags=0]="Frags",l[l.Score=1]="Score",l[l.Summary=2]="Summary",l))(Le||{});const Oe=20;let xe=class extends U{constructor(){super(...arguments),this.tableModeIndex=0,this.tableModeOptions=Le,this.hoveredRow=-1,this.loading=!1,this.folded=!0}get tableModeButtons(){return[{title:"\u041C\u0435\u0441\u0442\u0430 \u0438 \u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430",value:0},{title:"\u041E\u0447\u043A\u0438",value:1}]}get tableMode(){return Array.isArray(this.bracketData)?2:this.tableModeButtons[this.tableModeIndex].value}get hasFold(){return this.allParticipants.length>Oe}get allParticipants(){var l;return Array.isArray(this.bracketData)?this.bracketData:((l=this.bracketData)==null?void 0:l.included.participants)||[]}get visibleParticipants(){return this.folded?this.allParticipants.slice(0,Oe):this.allParticipants}get rounds(){return Array.isArray(this.bracketData)?[]:this.bracketData.included.rounds}get results(){const l=new Map;return this.allParticipants.forEach(e=>{var _;const d=e.included.battleRoyaleRoundResults.reduce((c,u)=>({totalKills:c.totalKills+u.attributes.kills,totalKillsScore:c.totalKillsScore+u.attributes.killsScore,totalPlaceScore:c.totalPlaceScore+u.attributes.placeScore}),{totalKills:0,totalKillsScore:0,totalPlaceScore:0}),o=((_=e.included.battleRoyaleRow)==null?void 0:_.attributes.bonuses)||0;l.set(e.id,{rounds:this.rounds.map(c=>e.included.battleRoyaleRoundResults.find(u=>u.attributes.roundId===c.id)||null),totalScore:d.totalKillsScore+d.totalPlaceScore+o,bonuses:o,...d})}),l}get placeTooltip(){return{content:this.tableMode===0?"\u043C\u0435\u0441\u0442\u043E":"\u043E\u0447\u043A\u043E\u0432 \u0437\u0430 \u043C\u0435\u0441\u0442\u043E",placement:"top",boundariesElement:"body"}}get killsTooltip(){return{content:this.tableMode===0?"\u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430":"\u043E\u0447\u043A\u043E\u0432 \u0437\u0430 \u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430",placement:"top",boundariesElement:"body"}}getRoundTooltip(l){var e,_;const d=this.$dayjs.formatDateTime(l.attributes.date,l.attributes.time,"\u0414\u0430\u0442\u0430 \u043D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u0430");return{content:`<b style="display:block;line-height:20px">${((_=(e=l.included.map)==null?void 0:e.attributes)==null?void 0:_.name)||""}</b>${d}`,placement:"top",boundariesElement:"body"}}getRowStyle(l){var e,_,d,o,c,u,N,le,ae,Pe,Bt,kt,St,Tt,Ct,It,Et,Mt,Rt;const H=l.included.battleRoyaleRow;return H?{"--place-color":(o=(d=(_=(e=H==null?void 0:H.included)==null?void 0:e.placeLegend)==null?void 0:_.attributes)==null?void 0:d.color)!=null&&o.includes("#")?(N=(u=(c=H==null?void 0:H.included)==null?void 0:c.placeLegend)==null?void 0:u.attributes)==null?void 0:N.color:`#${(Pe=(ae=(le=H==null?void 0:H.included)==null?void 0:le.placeLegend)==null?void 0:ae.attributes)==null?void 0:Pe.color}`,"--row-color":(St=(kt=(Bt=H==null?void 0:H.included)==null?void 0:Bt.rowLegend)==null?void 0:kt.attributes.color)!=null&&St.includes("#")?(It=(Ct=(Tt=H==null?void 0:H.included)==null?void 0:Tt.rowLegend)==null?void 0:Ct.attributes)==null?void 0:It.color:`#${(Rt=(Mt=(Et=H==null?void 0:H.included)==null?void 0:Et.rowLegend)==null?void 0:Mt.attributes)==null?void 0:Rt.color}`}:{}}getRankClasses(l){return[this.$style.rankGold,this.$style.rankSilver,this.$style.rankBronze][l-1]}onRowHover(l){this.hoveredRow=l}onRowHoverLeave(){this.hoveredRow=-1}toggleFolded(){this.folded=!this.folded}};xe=yt([Object(n.Component)({components:{ButtonTabs:mt,ParticipantDisplay:W.a,BracketLegend:_e}})],xe);var bt=xe,Ae=s(987);function gt(l){this.$style=Ae.default.locals||Ae.default}var We=Object(j.a)(bt,Re,it,!1,gt,null,null),me=We.exports,jt=function(){var e=this,_=e._self._c,d=e._self._setupProxy;return _("div",{class:e.$style.root},[_("matches-list",{attrs:{items:e.matches,"has-more":e.hasMore,loading:e.loading},on:{"load-more":function(o){return e.$fetch()}}})],1)},Fe=[],Ot=Object.defineProperty,xt=Object.getOwnPropertyDescriptor,Dt=(l,e,_,d)=>{for(var o=d>1?void 0:d?xt(e,_):e,c=l.length-1,u;c>=0;c--)(u=l[c])&&(o=(d?u(e,_,o):u(o))||o);return d&&o&&Ot(e,_,o),o};let r=class extends U{constructor(){super(...arguments),this.matches=null,this.loading=!1,this.hasMore=!1}async fetch(){var l;this.loading=!0;const e=20,{data:{data:_=[]}}=await this.$api.matches.getMatches({sort:"date","page[limit]":e,"page[offset]":(l=this.matches)==null?void 0:l.length,"filter[bracketMatch]":this.bracketData.bracketId});this.matches=[...this.matches||[],..._],this.hasMore=_.length>=e,this.loading=!1}};r=Dt([Object(n.Component)({components:{MatchesList:ke.a}})],r);var t=r,a=s(988);function y(l){this.$style=a.default.locals||a.default}var i=Object(j.a)(t,jt,Fe,!1,y,null,null),O=i.exports,$=Object.defineProperty,re=Object.getOwnPropertyDescriptor,G=(l,e,_,d)=>{for(var o=d>1?void 0:d?re(e,_):e,c=l.length-1,u;c>=0;c--)(u=l[c])&&(o=(d?u(e,_,o):u(o))||o);return d&&o&&$(e,_,o),o};const ee={singleElimination:{is:Y,load:(l,e)=>l.bracketSingles.getSingleBracketById(e)},doubleElimination:{is:he,load:(l,e)=>l.bracketDoubles.getDoubleBracketById(e)},groupGSL:{is:ge,load:(l,e)=>l.bracketGroups.getGroupById(e)},groupRoundRobin:{is:ge,load:(l,e)=>l.bracketGroups.getGroupById(e),props:{matchMode:"groupByDate"}},season:{is:ge,load:(l,e)=>l.bracketGroups.getGroupById(e),props:{matchMode:"none"}},battleRoyale:{is:me,load:(l,e)=>l.bracketBattleRoyales.getBattleRoyaleById(e)},battleRoyaleSummary:{is:me,load:(l,e)=>l.bracketBattleRoyales.getStageSummary(e)},match:{is:O,load:(l,e)=>Promise.resolve({data:{data:{bracketId:e}}})}};let J=class extends n.Vue{constructor(){super(...arguments),this.loading=!1,this.bracketData=null,this.currentComponentData=null}get currentComponent(){if(!this.currentComponentData)return null;const l=ee[this.currentComponentData.type];return{is:l.is,props:{...l.props,bracketData:this.currentComponentData.data,stageBracket:this.item,discipline:this.discipline,useShortNames:this.useShortNames,compactGroupTable:this.compactGroupTable}}}get bracketTabs(){return this.items.filter(l=>!l.attributes.isHidden).map(l=>({title:l.attributes.name}))}get currentIndex(){return this.item?this.items.indexOf(this.item):-1}set currentIndex(l){this.$emit("update:item",this.items[l])}fetch(){return this.loadBracketData()}async loadBracketData(){var l;if(!((l=this.item)!=null&&l.attributes.bracketId)||!this.item.attributes.type||!ee[this.item.attributes.type])return;this.loading=!0;const _=await ee[this.item.attributes.type].load(this.$api,this.item.attributes.bracketId).then(d=>d.data.data);this.currentComponentData=_?{type:this.item.attributes.type,data:_}:null,this.loading=!1}};G([Object(n.Prop)({type:Array,default:()=>[]})],J.prototype,"items",2),G([Object(n.Prop)({type:Object,default:null})],J.prototype,"item",2),G([Object(n.Prop)({type:Object,required:!0})],J.prototype,"discipline",2),G([Object(n.Prop)({type:Boolean,default:!1})],J.prototype,"useShortNames",2),G([Object(n.Prop)({type:Boolean,default:!1})],J.prototype,"compactGroupTable",2),G([Object(n.Watch)("item")],J.prototype,"loadBracketData",1),J=G([Object(n.Component)({components:{Tabs:P.a}})],J);var Pt=J,$t=s(989);function wt(l){this.$style=$t.default.locals||$t.default}var Lt=Object(j.a)(Pt,h,m,!1,wt,null,null),At=f.a=Lt.exports}}]);
